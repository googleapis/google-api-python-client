<html><body>
<style>

body, h1, h2, h3, div, span, p, pre, a {
  margin: 0;
  padding: 0;
  border: 0;
  font-weight: inherit;
  font-style: inherit;
  font-size: 100%;
  font-family: inherit;
  vertical-align: baseline;
}

body {
  font-size: 13px;
  padding: 1em;
}

h1 {
  font-size: 26px;
  margin-bottom: 1em;
}

h2 {
  font-size: 24px;
  margin-bottom: 1em;
}

h3 {
  font-size: 20px;
  margin-bottom: 1em;
  margin-top: 1em;
}

pre, code {
  line-height: 1.5;
  font-family: Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Lucida Console', monospace;
}

pre {
  margin-top: 0.5em;
}

h1, h2, h3, p {
  font-family: Arial, sans serif;
}

h1, h2, h3 {
  border-bottom: solid #CCC 1px;
}

.toc_element {
  margin-top: 0.5em;
}

.firstline {
  margin-left: 2 em;
}

.method  {
  margin-top: 1em;
  border: solid 1px #CCC;
  padding: 1em;
  background: #EEE;
}

.details {
  font-weight: bold;
  font-size: 14px;
}

</style>

<h1><a href="aiplatform_v1beta1.html">Vertex AI API</a> . <a href="aiplatform_v1beta1.projects.html">projects</a> . <a href="aiplatform_v1beta1.projects.locations.html">locations</a> . <a href="aiplatform_v1beta1.projects.locations.evaluationItems.html">evaluationItems</a></h1>
<h2>Instance Methods</h2>
<p class="toc_element">
  <code><a href="aiplatform_v1beta1.projects.locations.evaluationItems.operations.html">operations()</a></code>
</p>
<p class="firstline">Returns the operations Resource.</p>

<p class="toc_element">
  <code><a href="#close">close()</a></code></p>
<p class="firstline">Close httplib2 connections.</p>
<p class="toc_element">
  <code><a href="#create">create(parent, body=None, x__xgafv=None)</a></code></p>
<p class="firstline">Creates an Evaluation Item.</p>
<p class="toc_element">
  <code><a href="#delete">delete(name, x__xgafv=None)</a></code></p>
<p class="firstline">Deletes an Evaluation Item.</p>
<p class="toc_element">
  <code><a href="#get">get(name, x__xgafv=None)</a></code></p>
<p class="firstline">Gets an Evaluation Item.</p>
<p class="toc_element">
  <code><a href="#list">list(parent, filter=None, orderBy=None, pageSize=None, pageToken=None, x__xgafv=None)</a></code></p>
<p class="firstline">Lists Evaluation Items.</p>
<p class="toc_element">
  <code><a href="#list_next">list_next()</a></code></p>
<p class="firstline">Retrieves the next page of results.</p>
<h3>Method Details</h3>
<div class="method">
    <code class="details" id="close">close()</code>
  <pre>Close httplib2 connections.</pre>
</div>

<div class="method">
    <code class="details" id="create">create(parent, body=None, x__xgafv=None)</code>
  <pre>Creates an Evaluation Item.

Args:
  parent: string, Required. The resource name of the Location to create the Evaluation Item in. Format: `projects/{project}/locations/{location}` (required)
  body: object, The request body.
    The object takes the form of:

{ # EvaluationItem is a single evaluation request or result. The content of an EvaluationItem is immutable - it cannot be updated once created. EvaluationItems can be deleted when no longer needed.
  &quot;createTime&quot;: &quot;A String&quot;, # Output only. Timestamp when this item was created.
  &quot;displayName&quot;: &quot;A String&quot;, # Required. The display name of the EvaluationItem.
  &quot;error&quot;: { # The `Status` type defines a logical error model that is suitable for different programming environments, including REST APIs and RPC APIs. It is used by [gRPC](https://github.com/grpc). Each `Status` message contains three pieces of data: error code, error message, and error details. You can find out more about this error model and how to work with it in the [API Design Guide](https://cloud.google.com/apis/design/errors). # Output only. Error for the evaluation item.
    &quot;code&quot;: 42, # The status code, which should be an enum value of google.rpc.Code.
    &quot;details&quot;: [ # A list of messages that carry the error details. There is a common set of message types for APIs to use.
      {
        &quot;a_key&quot;: &quot;&quot;, # Properties of the object. Contains field @type with type URL.
      },
    ],
    &quot;message&quot;: &quot;A String&quot;, # A developer-facing error message, which should be in English. Any user-facing error message should be localized and sent in the google.rpc.Status.details field, or localized by the client.
  },
  &quot;evaluationItemType&quot;: &quot;A String&quot;, # Required. The type of the EvaluationItem.
  &quot;evaluationRequest&quot;: { # A single evaluation request supporting input for both single-turn model generation and multi-turn agent execution traces. Valid input modes: 1. Inference Mode: `prompt` is set (containing text or AgentData context). 2. Offline Eval Mode: `prompt` is unset, and `candidate_responses` contains `agent_data` (the completed execution trace). Validation Rule: Either `prompt` must be set, OR at least one of the `candidate_responses` must contain `agent_data`. # The request to evaluate.
    &quot;candidateResponses&quot;: [ # Optional. Responses from model under test and other baseline models for comparison.
      { # Responses from model or agent.
        &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
          &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
            &quot;a_key&quot;: { # Represents configuration for an Agent.
              &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
              &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
              &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
              &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
              &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                &quot;A String&quot;,
              ],
              &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                  &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                  },
                  &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                    &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                    &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                    { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                      &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                      &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                      &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                    },
                  ],
                  &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                    &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                  },
                  &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                    &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                      &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                      &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                    },
                  },
                  &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                    &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                    &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                    &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                    &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                      &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                        &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                          &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                        },
                      },
                      &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                      &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                        &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                          &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                          &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                        },
                        &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                        &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                        },
                        &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                          &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                        },
                        &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                          &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                        },
                        &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                          &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                        },
                      },
                      &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                        &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                        &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                        &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                      },
                      &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                      &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                      },
                    },
                    &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                      &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                        { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                          &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                        },
                      ],
                      &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                      &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                      &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                      &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                    },
                    &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                      &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                        &quot;A String&quot;,
                      ],
                      &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                        { # The definition of the Rag resource.
                          &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                          &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                            &quot;A String&quot;,
                          ],
                        },
                      ],
                      &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                        &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                          &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                          &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                        },
                        &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                          &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                        },
                        &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                          &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                          },
                          &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                          },
                        },
                        &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                      },
                      &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                      &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                      &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                    },
                  },
                  &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                  },
                },
              ],
            },
          },
          &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
            { # Represents a single turn/invocation in the conversation.
              &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                { # Represents a single event in the execution trace.
                  &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                    { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                      &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                      },
                      &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                        &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                        &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                        { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                          &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                          &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                        },
                      ],
                      &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                        &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                      },
                      &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                        &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                          &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                          &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                        },
                      },
                      &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                        &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                        &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                        &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                        &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                          &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                            &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                              &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                            },
                          },
                          &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                          &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                            &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                              &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                              &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                              &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                            },
                            &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                            &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                            },
                            &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                              &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            },
                            &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                              &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                            },
                            &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                              &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                            },
                          },
                          &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                            &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                            &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                            &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                          },
                          &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                          &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                          },
                        },
                        &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                          &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                            { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                              &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                              &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                            },
                          ],
                          &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                          &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                        },
                        &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                          &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                            &quot;A String&quot;,
                          ],
                          &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                            { # The definition of the Rag resource.
                              &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                              &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                &quot;A String&quot;,
                              ],
                            },
                          ],
                          &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                            &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                              &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                              &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                              &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                            },
                            &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                              &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                            },
                            &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                              &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                              },
                              &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                              },
                            },
                            &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                          },
                          &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                          &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                        },
                      },
                      &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                      },
                    },
                  ],
                  &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                  &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                    &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                      { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                        &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                          &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                          &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                        },
                        &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                          &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                          &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                        },
                        &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                          &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                          &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                            { # Partial argument value of the function call.
                              &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                              &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                              &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                              &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                              &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                              &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                            },
                          ],
                          &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                        },
                        &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                          &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                            { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                              &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                              &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                            },
                          ],
                          &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                        },
                        &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                          &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                          &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                        },
                        &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                        &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                        &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                        &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                          &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                          &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                          &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                        },
                      },
                    ],
                    &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                  },
                  &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                  &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
              ],
              &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
              &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
            },
          ],
        },
        &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
        &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
          { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
            &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
              { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                  &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                  &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                },
                &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                  &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                  &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                },
                &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                  &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                  &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                    { # Partial argument value of the function call.
                      &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                      &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                      &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                      &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                      &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                      &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                    },
                  ],
                  &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                },
                &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                  &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                    { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                      &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                        &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                    },
                  ],
                  &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
                &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                  &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                  &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                },
                &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                  &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                  &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                  &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                },
              },
            ],
            &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
          },
        ],
        &quot;text&quot;: &quot;A String&quot;, # Text response.
        &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
      },
    ],
    &quot;goldenResponse&quot;: { # Responses from model or agent. # Optional. The Ideal response or ground truth.
      &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
        &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
          &quot;a_key&quot;: { # Represents configuration for an Agent.
            &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
            &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
            &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
            &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
            &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
              &quot;A String&quot;,
            ],
            &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
              { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                },
                &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                  &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                  &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                    &quot;A String&quot;,
                  ],
                },
                &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                  &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                  &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                    &quot;A String&quot;,
                  ],
                },
                &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                  { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                    &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                    &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                    &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                      &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                      &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                        # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      ],
                      &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                      &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                      &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                        &quot;A String&quot;,
                      ],
                      &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                      &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                      &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                      &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                      &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                      &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                      &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                      &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                      &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                      &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                      &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                      &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                      &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                      &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                        &quot;A String&quot;,
                      ],
                      &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                      &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                        &quot;A String&quot;,
                      ],
                      &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                      &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                    },
                    &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                    &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                      &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                      &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                        # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      ],
                      &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                      &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                      &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                        &quot;A String&quot;,
                      ],
                      &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                      &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                      &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                      &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                      &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                      &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                      &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                      &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                      &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                      &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                      &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                      &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                      &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                      &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                        &quot;A String&quot;,
                      ],
                      &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                      &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                        &quot;A String&quot;,
                      ],
                      &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                      &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                    },
                    &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                  },
                ],
                &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                  &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                },
                &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                  &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                  &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                    &quot;A String&quot;,
                  ],
                },
                &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                  &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                    &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                    &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                  },
                },
                &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                  &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                  &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
                &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                  &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                  &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                    &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                      &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                        &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                        &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                      },
                    },
                    &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                    &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                      &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                        &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                        &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                        &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                        &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                      },
                      &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                      &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                      },
                      &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                        &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                      },
                      &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                        &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                      },
                      &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                        &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                      },
                    },
                    &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                      &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                      &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                      &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                    },
                    &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                    &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                    },
                  },
                  &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                    &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                      { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                        &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                      },
                    ],
                    &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                    &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                    &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                    &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                  },
                  &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                    &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                      &quot;A String&quot;,
                    ],
                    &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                      { # The definition of the Rag resource.
                        &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                        &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                          &quot;A String&quot;,
                        ],
                      },
                    ],
                    &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                      &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                        &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                        &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                      },
                      &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                        &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                      },
                      &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                        &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                          &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                        },
                        &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                          &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                        },
                      },
                      &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                    },
                    &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                    &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                    &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                  },
                },
                &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                },
              },
            ],
          },
        },
        &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
          { # Represents a single turn/invocation in the conversation.
            &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
              { # Represents a single event in the execution trace.
                &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                  { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                    &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                    },
                    &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                      &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                      &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                      { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                        &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                        &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                      },
                    ],
                    &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                      &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                    },
                    &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                      &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                        &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                        &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                      },
                    },
                    &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                      &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                      &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                    &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                      &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                      &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                        &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                          &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                            &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                          },
                        },
                        &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                        &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                          &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                            &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                            &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                          },
                          &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                          &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                          },
                          &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                            &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          },
                          &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                            &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                          },
                          &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                            &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                          },
                        },
                        &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                          &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                          &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                          &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                        },
                        &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                        &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                        },
                      },
                      &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                        &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                          { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                            &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                          },
                        ],
                        &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                        &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                      },
                      &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                        &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                          &quot;A String&quot;,
                        ],
                        &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                          { # The definition of the Rag resource.
                            &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                            &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                              &quot;A String&quot;,
                            ],
                          },
                        ],
                        &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                          &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                            &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                            &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                          },
                          &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                            &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                          },
                          &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                            &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                            },
                            &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                            },
                          },
                          &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                        },
                        &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                        &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                      },
                    },
                    &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                    },
                  },
                ],
                &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                  &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                    { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                      &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                        &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                        &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                      },
                      &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                        &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                        &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                      },
                      &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                        &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                        &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                          { # Partial argument value of the function call.
                            &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                            &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                            &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                            &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                            &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                            &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                          },
                        ],
                        &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                      },
                      &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                        &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                          { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                            &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                            &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                              &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                          },
                        ],
                        &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                        &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                        &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                      },
                      &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                      &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                      &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                      &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                        &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                        &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                        &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                      },
                    },
                  ],
                  &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                },
                &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                  &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                },
              },
            ],
            &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
            &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
          },
        ],
      },
      &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
      &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
        { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
          &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
            { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
              &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
              },
              &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
              },
              &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
              },
              &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                  &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                },
                &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                  { # Partial argument value of the function call.
                    &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                    &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                    &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                    &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                    &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                    &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                  },
                ],
                &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
              },
              &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                  { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                    &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                      &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                      &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                      &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                    },
                    &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                      &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                      &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                      &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                    },
                  },
                ],
                &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                  &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                },
              },
              &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
              },
              &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
              },
              &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
              &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
              &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
              &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
              },
            },
          ],
          &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
        },
      ],
      &quot;text&quot;: &quot;A String&quot;, # Text response.
      &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
    },
    &quot;prompt&quot;: { # Prompt to be evaluated. This can represent a single-turn prompt or a multi-turn conversation for agent evaluations. # Optional. The request/prompt to evaluate.
      &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This serves as the input context for agent scraping.
        &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
          &quot;a_key&quot;: { # Represents configuration for an Agent.
            &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
            &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
            &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
            &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
            &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
              &quot;A String&quot;,
            ],
            &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
              { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                },
                &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                  &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                  &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                    &quot;A String&quot;,
                  ],
                },
                &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                  &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                  &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                    &quot;A String&quot;,
                  ],
                },
                &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                  { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                    &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                    &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                    &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                      &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                      &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                        # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      ],
                      &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                      &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                      &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                        &quot;A String&quot;,
                      ],
                      &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                      &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                      &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                      &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                      &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                      &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                      &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                      &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                      &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                      &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                      &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                      &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                      &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                      &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                        &quot;A String&quot;,
                      ],
                      &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                      &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                        &quot;A String&quot;,
                      ],
                      &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                      &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                    },
                    &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                    &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                      &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                      &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                        # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      ],
                      &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                      &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                      &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                        &quot;A String&quot;,
                      ],
                      &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                      &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                      &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                      &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                      &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                      &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                      &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                      &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                      &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                      &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                      &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                      &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                      &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                      &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                        &quot;A String&quot;,
                      ],
                      &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                      &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                        &quot;A String&quot;,
                      ],
                      &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                      &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                    },
                    &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                  },
                ],
                &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                  &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                },
                &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                  &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                  &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                    &quot;A String&quot;,
                  ],
                },
                &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                  &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                    &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                    &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                  },
                },
                &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                  &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                  &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
                &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                  &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                  &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                    &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                      &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                        &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                        &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                      },
                    },
                    &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                    &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                      &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                        &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                        &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                        &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                        &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                      },
                      &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                      &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                      },
                      &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                        &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                      },
                      &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                        &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                      },
                      &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                        &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                      },
                    },
                    &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                      &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                      &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                      &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                    },
                    &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                    &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                    },
                  },
                  &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                    &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                      { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                        &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                      },
                    ],
                    &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                    &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                    &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                    &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                  },
                  &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                    &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                      &quot;A String&quot;,
                    ],
                    &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                      { # The definition of the Rag resource.
                        &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                        &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                          &quot;A String&quot;,
                        ],
                      },
                    ],
                    &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                      &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                        &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                        &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                      },
                      &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                        &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                      },
                      &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                        &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                          &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                        },
                        &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                          &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                        },
                      },
                      &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                    },
                    &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                    &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                    &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                  },
                },
                &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                },
              },
            ],
          },
        },
        &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
          { # Represents a single turn/invocation in the conversation.
            &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
              { # Represents a single event in the execution trace.
                &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                  { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                    &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                    },
                    &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                      &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                      &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                      { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                        &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                        &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                      },
                    ],
                    &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                      &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                    },
                    &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                      &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                        &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                        &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                      },
                    },
                    &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                      &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                      &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                    &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                      &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                      &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                        &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                          &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                            &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                          },
                        },
                        &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                        &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                          &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                            &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                            &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                          },
                          &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                          &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                          },
                          &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                            &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          },
                          &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                            &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                          },
                          &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                            &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                          },
                        },
                        &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                          &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                          &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                          &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                        },
                        &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                        &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                        },
                      },
                      &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                        &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                          { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                            &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                          },
                        ],
                        &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                        &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                      },
                      &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                        &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                          &quot;A String&quot;,
                        ],
                        &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                          { # The definition of the Rag resource.
                            &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                            &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                              &quot;A String&quot;,
                            ],
                          },
                        ],
                        &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                          &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                            &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                            &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                          },
                          &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                            &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                          },
                          &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                            &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                            },
                            &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                            },
                          },
                          &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                        },
                        &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                        &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                      },
                    },
                    &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                    },
                  },
                ],
                &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                  &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                    { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                      &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                        &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                        &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                      },
                      &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                        &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                        &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                      },
                      &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                        &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                        &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                          { # Partial argument value of the function call.
                            &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                            &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                            &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                            &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                            &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                            &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                          },
                        ],
                        &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                      },
                      &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                        &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                          { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                            &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                            &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                              &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                          },
                        ],
                        &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                        &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                        &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                      },
                      &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                      &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                      &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                      &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                        &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                        &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                        &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                      },
                    },
                  ],
                  &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                },
                &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                  &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                },
              },
            ],
            &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
            &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
          },
        ],
      },
      &quot;promptTemplateData&quot;: { # Message to hold a prompt template and the values to populate the template. # Prompt template data.
        &quot;values&quot;: { # The values for fields in the prompt template.
          &quot;a_key&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
            &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
              { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                  &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                  &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                },
                &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                  &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                  &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                },
                &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                  &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                  &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                    { # Partial argument value of the function call.
                      &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                      &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                      &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                      &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                      &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                      &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                    },
                  ],
                  &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                },
                &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                  &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                    { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                      &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                        &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                    },
                  ],
                  &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
                &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                  &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                  &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                },
                &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                  &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                  &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                  &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                },
              },
            ],
            &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
          },
        },
      },
      &quot;text&quot;: &quot;A String&quot;, # Text prompt.
      &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the prompt template.
    },
    &quot;rubrics&quot;: { # Optional. Named groups of rubrics associated with this prompt. The key is a user-defined name for the rubric group.
      &quot;a_key&quot;: { # A group of rubrics, used for grouping rubrics based on a metric or a version.
        &quot;displayName&quot;: &quot;A String&quot;, # Human-readable name for the group. This should be unique within a given context if used for display or selection. Example: &quot;Instruction Following V1&quot;, &quot;Content Quality - Summarization Task&quot;.
        &quot;groupId&quot;: &quot;A String&quot;, # Unique identifier for the group.
        &quot;rubrics&quot;: [ # Rubrics that are part of this group.
          { # Message representing a single testable criterion for evaluation. One input prompt could have multiple rubrics.
            &quot;content&quot;: { # Content of the rubric, defining the testable criteria. # Required. The actual testable criteria for the rubric.
              &quot;property&quot;: { # Defines criteria based on a specific property. # Evaluation criteria based on a specific property.
                &quot;description&quot;: &quot;A String&quot;, # Description of the property being evaluated. Example: &quot;The model&#x27;s response is grammatically correct.&quot;
              },
            },
            &quot;importance&quot;: &quot;A String&quot;, # Optional. The relative importance of this rubric.
            &quot;rubricId&quot;: &quot;A String&quot;, # Unique identifier for the rubric. This ID is used to refer to this rubric, e.g., in RubricVerdict.
            &quot;type&quot;: &quot;A String&quot;, # Optional. A type designator for the rubric, which can inform how it&#x27;s evaluated or interpreted by systems or users. It&#x27;s recommended to use consistent, well-defined, upper snake_case strings. Examples: &quot;SUMMARIZATION_QUALITY&quot;, &quot;SAFETY_HARMFUL_CONTENT&quot;, &quot;INSTRUCTION_ADHERENCE&quot;.
          },
        ],
      },
    },
  },
  &quot;evaluationResponse&quot;: { # Evaluation result. # Output only. The response from evaluation.
    &quot;candidateResults&quot;: [ # Optional. The results for the metric.
      { # Result for a single candidate.
        &quot;additionalResults&quot;: &quot;&quot;, # Optional. Additional results for the metric.
        &quot;candidate&quot;: &quot;A String&quot;, # Required. The candidate that is being evaluated. The value is the same as the candidate name in the EvaluationRequest.
        &quot;explanation&quot;: &quot;A String&quot;, # Optional. The explanation for the metric.
        &quot;metric&quot;: &quot;A String&quot;, # Required. The metric that was evaluated.
        &quot;rubricVerdicts&quot;: [ # Optional. The rubric verdicts for the metric.
          { # Represents the verdict of an evaluation against a single rubric.
            &quot;evaluatedRubric&quot;: { # Message representing a single testable criterion for evaluation. One input prompt could have multiple rubrics. # Required. The full rubric definition that was evaluated. Storing this ensures the verdict is self-contained and understandable, especially if the original rubric definition changes or was dynamically generated.
              &quot;content&quot;: { # Content of the rubric, defining the testable criteria. # Required. The actual testable criteria for the rubric.
                &quot;property&quot;: { # Defines criteria based on a specific property. # Evaluation criteria based on a specific property.
                  &quot;description&quot;: &quot;A String&quot;, # Description of the property being evaluated. Example: &quot;The model&#x27;s response is grammatically correct.&quot;
                },
              },
              &quot;importance&quot;: &quot;A String&quot;, # Optional. The relative importance of this rubric.
              &quot;rubricId&quot;: &quot;A String&quot;, # Unique identifier for the rubric. This ID is used to refer to this rubric, e.g., in RubricVerdict.
              &quot;type&quot;: &quot;A String&quot;, # Optional. A type designator for the rubric, which can inform how it&#x27;s evaluated or interpreted by systems or users. It&#x27;s recommended to use consistent, well-defined, upper snake_case strings. Examples: &quot;SUMMARIZATION_QUALITY&quot;, &quot;SAFETY_HARMFUL_CONTENT&quot;, &quot;INSTRUCTION_ADHERENCE&quot;.
            },
            &quot;reasoning&quot;: &quot;A String&quot;, # Optional. Human-readable reasoning or explanation for the verdict. This can include specific examples or details from the evaluated content that justify the given verdict.
            &quot;verdict&quot;: True or False, # Required. Outcome of the evaluation against the rubric, represented as a boolean. `true` indicates a &quot;Pass&quot;, `false` indicates a &quot;Fail&quot;.
          },
        ],
        &quot;score&quot;: 3.14, # Optional. The score for the metric.
      },
    ],
    &quot;evaluationRequest&quot;: &quot;A String&quot;, # Required. The request item that was evaluated. Format: projects/{project}/locations/{location}/evaluationItems/{evaluation_item}
    &quot;evaluationRun&quot;: &quot;A String&quot;, # Required. The evaluation run that was used to generate the result. Format: projects/{project}/locations/{location}/evaluationRuns/{evaluation_run}
    &quot;metadata&quot;: &quot;&quot;, # Optional. Metadata about the evaluation result.
    &quot;metric&quot;: &quot;A String&quot;, # Required. The metric that was evaluated.
    &quot;request&quot;: { # A single evaluation request supporting input for both single-turn model generation and multi-turn agent execution traces. Valid input modes: 1. Inference Mode: `prompt` is set (containing text or AgentData context). 2. Offline Eval Mode: `prompt` is unset, and `candidate_responses` contains `agent_data` (the completed execution trace). Validation Rule: Either `prompt` must be set, OR at least one of the `candidate_responses` must contain `agent_data`. # Required. The request that was evaluated.
      &quot;candidateResponses&quot;: [ # Optional. Responses from model under test and other baseline models for comparison.
        { # Responses from model or agent.
          &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
            &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
              &quot;a_key&quot;: { # Represents configuration for an Agent.
                &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
                &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
                &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
                &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
                &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                  &quot;A String&quot;,
                ],
                &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                  { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                    &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                    },
                    &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                      &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                      &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                      { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                        &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                        &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                      },
                    ],
                    &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                      &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                    },
                    &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                      &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                        &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                        &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                      },
                    },
                    &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                      &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                      &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                    &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                      &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                      &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                        &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                          &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                            &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                          },
                        },
                        &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                        &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                          &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                            &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                            &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                          },
                          &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                          &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                          },
                          &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                            &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          },
                          &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                            &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                          },
                          &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                            &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                          },
                        },
                        &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                          &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                          &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                          &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                        },
                        &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                        &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                        },
                      },
                      &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                        &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                          { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                            &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                          },
                        ],
                        &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                        &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                      },
                      &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                        &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                          &quot;A String&quot;,
                        ],
                        &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                          { # The definition of the Rag resource.
                            &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                            &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                              &quot;A String&quot;,
                            ],
                          },
                        ],
                        &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                          &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                            &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                            &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                          },
                          &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                            &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                          },
                          &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                            &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                            },
                            &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                            },
                          },
                          &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                        },
                        &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                        &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                      },
                    },
                    &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                    },
                  },
                ],
              },
            },
            &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
              { # Represents a single turn/invocation in the conversation.
                &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                  { # Represents a single event in the execution trace.
                    &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                      { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                        &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                        },
                        &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                          &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                          &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                          &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                          &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                          { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                            &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                            &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                              &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                              &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              ],
                              &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                              &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                              &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                &quot;A String&quot;,
                              ],
                              &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                              &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                              &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                              &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                              &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                              &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                              &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                              &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                              &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                              &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                              &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                              &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                              &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                              &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                &quot;A String&quot;,
                              ],
                              &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                              &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                &quot;A String&quot;,
                              ],
                              &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                              &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                            },
                            &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                            &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                              &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                              &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              ],
                              &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                              &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                              &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                &quot;A String&quot;,
                              ],
                              &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                              &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                              &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                              &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                              &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                              &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                              &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                              &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                              &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                              &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                              &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                              &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                              &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                              &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                &quot;A String&quot;,
                              ],
                              &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                              &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                &quot;A String&quot;,
                              ],
                              &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                              &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                            },
                            &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                          },
                        ],
                        &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                          &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                        },
                        &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                          &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                          &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                          &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                            &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                            &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                          },
                        },
                        &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                          &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                          &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                        },
                        &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                          &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                          &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                            &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                              &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                                &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                                &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                              },
                            },
                            &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                            &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                              &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                                &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                                &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                                &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                                &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                              },
                              &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                              &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                              },
                              &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                                &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              },
                              &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                                &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                              },
                              &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                                &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                              },
                            },
                            &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                              &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                              &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                              &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                            },
                            &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                            &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                            },
                          },
                          &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                            &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                              { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                                &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                                &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                              },
                            ],
                            &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                            &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                          },
                          &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                            &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                              &quot;A String&quot;,
                            ],
                            &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                              { # The definition of the Rag resource.
                                &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                                &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                  &quot;A String&quot;,
                                ],
                              },
                            ],
                            &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                              &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                                &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                                &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                                &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                              },
                              &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                                &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                              },
                              &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                                &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                  &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                                },
                                &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                  &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                                },
                              },
                              &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                            },
                            &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                            &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                          },
                        },
                        &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                        },
                      },
                    ],
                    &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                    &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                      &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                        { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                          &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                            &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                            &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                          },
                          &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                            &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                            &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                          },
                          &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                            &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                          &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                            &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                              &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                            },
                            &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                            &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                              { # Partial argument value of the function call.
                                &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                                &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                                &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                                &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                                &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                                &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                              },
                            ],
                            &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                          },
                          &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                            &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                            &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                            &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                              { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                                &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                  &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                },
                                &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                  &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                },
                              },
                            ],
                            &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                              &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                            },
                          },
                          &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                            &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                          &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                            &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                          },
                          &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                          &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                          &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                          &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                            &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                            &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                            &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                          },
                        },
                      ],
                      &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                    },
                    &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                    &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                ],
                &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
                &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
              },
            ],
          },
          &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
          &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
            { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
              &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                  &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                    &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                    &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                  },
                  &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                    &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                    &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                  },
                  &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                    &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                  },
                  &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                    &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                    &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                    &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                    &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                      { # Partial argument value of the function call.
                        &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                        &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                        &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                        &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                        &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                        &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                      },
                    ],
                    &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                  },
                  &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                    &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                    &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                    &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                      { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                        &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                          &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                      },
                    ],
                    &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                    &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                  },
                  &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                    &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                  },
                  &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                  &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                  &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                  &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                    &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                    &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                    &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                  },
                },
              ],
              &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
            },
          ],
          &quot;text&quot;: &quot;A String&quot;, # Text response.
          &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
        },
      ],
      &quot;goldenResponse&quot;: { # Responses from model or agent. # Optional. The Ideal response or ground truth.
        &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
          &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
            &quot;a_key&quot;: { # Represents configuration for an Agent.
              &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
              &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
              &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
              &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
              &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                &quot;A String&quot;,
              ],
              &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                  &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                  },
                  &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                    &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                    &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                    { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                      &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                      &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                      &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                    },
                  ],
                  &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                    &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                  },
                  &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                    &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                      &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                      &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                    },
                  },
                  &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                    &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                    &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                    &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                    &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                      &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                        &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                          &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                        },
                      },
                      &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                      &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                        &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                          &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                          &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                        },
                        &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                        &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                        },
                        &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                          &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                        },
                        &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                          &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                        },
                        &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                          &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                        },
                      },
                      &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                        &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                        &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                        &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                      },
                      &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                      &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                      },
                    },
                    &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                      &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                        { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                          &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                        },
                      ],
                      &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                      &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                      &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                      &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                    },
                    &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                      &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                        &quot;A String&quot;,
                      ],
                      &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                        { # The definition of the Rag resource.
                          &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                          &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                            &quot;A String&quot;,
                          ],
                        },
                      ],
                      &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                        &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                          &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                          &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                        },
                        &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                          &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                        },
                        &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                          &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                          },
                          &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                          },
                        },
                        &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                      },
                      &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                      &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                      &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                    },
                  },
                  &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                  },
                },
              ],
            },
          },
          &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
            { # Represents a single turn/invocation in the conversation.
              &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                { # Represents a single event in the execution trace.
                  &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                    { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                      &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                      },
                      &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                        &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                        &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                        { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                          &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                          &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                        },
                      ],
                      &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                        &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                      },
                      &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                        &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                          &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                          &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                        },
                      },
                      &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                        &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                        &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                        &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                        &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                          &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                            &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                              &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                            },
                          },
                          &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                          &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                            &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                              &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                              &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                              &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                            },
                            &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                            &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                            },
                            &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                              &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            },
                            &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                              &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                            },
                            &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                              &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                            },
                          },
                          &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                            &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                            &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                            &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                          },
                          &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                          &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                          },
                        },
                        &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                          &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                            { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                              &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                              &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                            },
                          ],
                          &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                          &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                        },
                        &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                          &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                            &quot;A String&quot;,
                          ],
                          &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                            { # The definition of the Rag resource.
                              &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                              &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                &quot;A String&quot;,
                              ],
                            },
                          ],
                          &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                            &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                              &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                              &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                              &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                            },
                            &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                              &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                            },
                            &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                              &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                              },
                              &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                              },
                            },
                            &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                          },
                          &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                          &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                        },
                      },
                      &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                      },
                    },
                  ],
                  &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                  &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                    &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                      { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                        &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                          &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                          &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                        },
                        &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                          &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                          &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                        },
                        &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                          &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                          &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                            { # Partial argument value of the function call.
                              &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                              &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                              &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                              &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                              &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                              &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                            },
                          ],
                          &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                        },
                        &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                          &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                            { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                              &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                              &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                            },
                          ],
                          &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                        },
                        &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                          &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                          &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                        },
                        &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                        &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                        &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                        &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                          &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                          &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                          &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                        },
                      },
                    ],
                    &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                  },
                  &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                  &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
              ],
              &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
              &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
            },
          ],
        },
        &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
        &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
          { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
            &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
              { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                  &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                  &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                },
                &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                  &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                  &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                },
                &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                  &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                  &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                    { # Partial argument value of the function call.
                      &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                      &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                      &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                      &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                      &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                      &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                    },
                  ],
                  &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                },
                &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                  &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                    { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                      &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                        &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                    },
                  ],
                  &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
                &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                  &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                  &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                },
                &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                  &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                  &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                  &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                },
              },
            ],
            &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
          },
        ],
        &quot;text&quot;: &quot;A String&quot;, # Text response.
        &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
      },
      &quot;prompt&quot;: { # Prompt to be evaluated. This can represent a single-turn prompt or a multi-turn conversation for agent evaluations. # Optional. The request/prompt to evaluate.
        &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This serves as the input context for agent scraping.
          &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
            &quot;a_key&quot;: { # Represents configuration for an Agent.
              &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
              &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
              &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
              &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
              &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                &quot;A String&quot;,
              ],
              &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                  &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                  },
                  &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                    &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                    &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                    { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                      &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                      &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                      &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                    },
                  ],
                  &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                    &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                  },
                  &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                    &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                      &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                      &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                    },
                  },
                  &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                    &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                    &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                    &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                    &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                      &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                        &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                          &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                        },
                      },
                      &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                      &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                        &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                          &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                          &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                        },
                        &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                        &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                        },
                        &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                          &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                        },
                        &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                          &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                        },
                        &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                          &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                        },
                      },
                      &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                        &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                        &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                        &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                      },
                      &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                      &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                      },
                    },
                    &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                      &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                        { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                          &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                        },
                      ],
                      &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                      &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                      &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                      &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                    },
                    &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                      &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                        &quot;A String&quot;,
                      ],
                      &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                        { # The definition of the Rag resource.
                          &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                          &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                            &quot;A String&quot;,
                          ],
                        },
                      ],
                      &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                        &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                          &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                          &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                        },
                        &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                          &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                        },
                        &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                          &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                          },
                          &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                          },
                        },
                        &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                      },
                      &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                      &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                      &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                    },
                  },
                  &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                  },
                },
              ],
            },
          },
          &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
            { # Represents a single turn/invocation in the conversation.
              &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                { # Represents a single event in the execution trace.
                  &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                    { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                      &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                      },
                      &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                        &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                        &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                        { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                          &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                          &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                        },
                      ],
                      &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                        &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                      },
                      &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                        &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                          &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                          &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                        },
                      },
                      &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                        &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                        &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                        &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                        &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                          &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                            &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                              &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                            },
                          },
                          &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                          &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                            &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                              &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                              &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                              &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                            },
                            &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                            &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                            },
                            &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                              &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            },
                            &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                              &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                            },
                            &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                              &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                            },
                          },
                          &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                            &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                            &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                            &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                          },
                          &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                          &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                          },
                        },
                        &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                          &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                            { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                              &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                              &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                            },
                          ],
                          &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                          &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                        },
                        &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                          &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                            &quot;A String&quot;,
                          ],
                          &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                            { # The definition of the Rag resource.
                              &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                              &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                &quot;A String&quot;,
                              ],
                            },
                          ],
                          &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                            &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                              &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                              &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                              &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                            },
                            &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                              &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                            },
                            &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                              &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                              },
                              &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                              },
                            },
                            &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                          },
                          &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                          &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                        },
                      },
                      &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                      },
                    },
                  ],
                  &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                  &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                    &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                      { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                        &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                          &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                          &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                        },
                        &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                          &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                          &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                        },
                        &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                          &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                          &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                            { # Partial argument value of the function call.
                              &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                              &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                              &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                              &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                              &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                              &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                            },
                          ],
                          &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                        },
                        &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                          &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                            { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                              &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                              &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                            },
                          ],
                          &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                        },
                        &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                          &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                          &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                        },
                        &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                        &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                        &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                        &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                          &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                          &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                          &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                        },
                      },
                    ],
                    &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                  },
                  &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                  &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
              ],
              &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
              &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
            },
          ],
        },
        &quot;promptTemplateData&quot;: { # Message to hold a prompt template and the values to populate the template. # Prompt template data.
          &quot;values&quot;: { # The values for fields in the prompt template.
            &quot;a_key&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
              &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                  &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                    &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                    &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                  },
                  &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                    &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                    &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                  },
                  &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                    &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                  },
                  &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                    &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                    &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                    &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                    &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                      { # Partial argument value of the function call.
                        &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                        &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                        &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                        &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                        &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                        &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                      },
                    ],
                    &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                  },
                  &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                    &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                    &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                    &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                      { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                        &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                          &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                      },
                    ],
                    &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                    &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                  },
                  &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                    &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                  },
                  &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                  &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                  &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                  &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                    &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                    &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                    &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                  },
                },
              ],
              &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
            },
          },
        },
        &quot;text&quot;: &quot;A String&quot;, # Text prompt.
        &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the prompt template.
      },
      &quot;rubrics&quot;: { # Optional. Named groups of rubrics associated with this prompt. The key is a user-defined name for the rubric group.
        &quot;a_key&quot;: { # A group of rubrics, used for grouping rubrics based on a metric or a version.
          &quot;displayName&quot;: &quot;A String&quot;, # Human-readable name for the group. This should be unique within a given context if used for display or selection. Example: &quot;Instruction Following V1&quot;, &quot;Content Quality - Summarization Task&quot;.
          &quot;groupId&quot;: &quot;A String&quot;, # Unique identifier for the group.
          &quot;rubrics&quot;: [ # Rubrics that are part of this group.
            { # Message representing a single testable criterion for evaluation. One input prompt could have multiple rubrics.
              &quot;content&quot;: { # Content of the rubric, defining the testable criteria. # Required. The actual testable criteria for the rubric.
                &quot;property&quot;: { # Defines criteria based on a specific property. # Evaluation criteria based on a specific property.
                  &quot;description&quot;: &quot;A String&quot;, # Description of the property being evaluated. Example: &quot;The model&#x27;s response is grammatically correct.&quot;
                },
              },
              &quot;importance&quot;: &quot;A String&quot;, # Optional. The relative importance of this rubric.
              &quot;rubricId&quot;: &quot;A String&quot;, # Unique identifier for the rubric. This ID is used to refer to this rubric, e.g., in RubricVerdict.
              &quot;type&quot;: &quot;A String&quot;, # Optional. A type designator for the rubric, which can inform how it&#x27;s evaluated or interpreted by systems or users. It&#x27;s recommended to use consistent, well-defined, upper snake_case strings. Examples: &quot;SUMMARIZATION_QUALITY&quot;, &quot;SAFETY_HARMFUL_CONTENT&quot;, &quot;INSTRUCTION_ADHERENCE&quot;.
            },
          ],
        },
      },
    },
  },
  &quot;gcsUri&quot;: &quot;A String&quot;, # The Cloud Storage object where the request or response is stored.
  &quot;labels&quot;: { # Optional. Labels for the EvaluationItem.
    &quot;a_key&quot;: &quot;A String&quot;,
  },
  &quot;metadata&quot;: &quot;&quot;, # Optional. Metadata for the EvaluationItem.
  &quot;name&quot;: &quot;A String&quot;, # Identifier. The resource name of the EvaluationItem. Format: `projects/{project}/locations/{location}/evaluationItems/{evaluation_item}`
}

  x__xgafv: string, V1 error format.
    Allowed values
      1 - v1 error format
      2 - v2 error format

Returns:
  An object of the form:

    { # EvaluationItem is a single evaluation request or result. The content of an EvaluationItem is immutable - it cannot be updated once created. EvaluationItems can be deleted when no longer needed.
  &quot;createTime&quot;: &quot;A String&quot;, # Output only. Timestamp when this item was created.
  &quot;displayName&quot;: &quot;A String&quot;, # Required. The display name of the EvaluationItem.
  &quot;error&quot;: { # The `Status` type defines a logical error model that is suitable for different programming environments, including REST APIs and RPC APIs. It is used by [gRPC](https://github.com/grpc). Each `Status` message contains three pieces of data: error code, error message, and error details. You can find out more about this error model and how to work with it in the [API Design Guide](https://cloud.google.com/apis/design/errors). # Output only. Error for the evaluation item.
    &quot;code&quot;: 42, # The status code, which should be an enum value of google.rpc.Code.
    &quot;details&quot;: [ # A list of messages that carry the error details. There is a common set of message types for APIs to use.
      {
        &quot;a_key&quot;: &quot;&quot;, # Properties of the object. Contains field @type with type URL.
      },
    ],
    &quot;message&quot;: &quot;A String&quot;, # A developer-facing error message, which should be in English. Any user-facing error message should be localized and sent in the google.rpc.Status.details field, or localized by the client.
  },
  &quot;evaluationItemType&quot;: &quot;A String&quot;, # Required. The type of the EvaluationItem.
  &quot;evaluationRequest&quot;: { # A single evaluation request supporting input for both single-turn model generation and multi-turn agent execution traces. Valid input modes: 1. Inference Mode: `prompt` is set (containing text or AgentData context). 2. Offline Eval Mode: `prompt` is unset, and `candidate_responses` contains `agent_data` (the completed execution trace). Validation Rule: Either `prompt` must be set, OR at least one of the `candidate_responses` must contain `agent_data`. # The request to evaluate.
    &quot;candidateResponses&quot;: [ # Optional. Responses from model under test and other baseline models for comparison.
      { # Responses from model or agent.
        &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
          &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
            &quot;a_key&quot;: { # Represents configuration for an Agent.
              &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
              &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
              &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
              &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
              &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                &quot;A String&quot;,
              ],
              &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                  &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                  },
                  &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                    &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                    &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                    { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                      &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                      &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                      &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                    },
                  ],
                  &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                    &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                  },
                  &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                    &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                      &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                      &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                    },
                  },
                  &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                    &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                    &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                    &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                    &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                      &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                        &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                          &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                        },
                      },
                      &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                      &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                        &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                          &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                          &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                        },
                        &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                        &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                        },
                        &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                          &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                        },
                        &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                          &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                        },
                        &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                          &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                        },
                      },
                      &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                        &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                        &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                        &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                      },
                      &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                      &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                      },
                    },
                    &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                      &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                        { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                          &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                        },
                      ],
                      &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                      &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                      &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                      &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                    },
                    &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                      &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                        &quot;A String&quot;,
                      ],
                      &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                        { # The definition of the Rag resource.
                          &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                          &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                            &quot;A String&quot;,
                          ],
                        },
                      ],
                      &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                        &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                          &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                          &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                        },
                        &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                          &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                        },
                        &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                          &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                          },
                          &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                          },
                        },
                        &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                      },
                      &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                      &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                      &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                    },
                  },
                  &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                  },
                },
              ],
            },
          },
          &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
            { # Represents a single turn/invocation in the conversation.
              &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                { # Represents a single event in the execution trace.
                  &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                    { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                      &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                      },
                      &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                        &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                        &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                        { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                          &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                          &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                        },
                      ],
                      &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                        &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                      },
                      &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                        &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                          &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                          &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                        },
                      },
                      &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                        &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                        &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                        &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                        &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                          &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                            &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                              &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                            },
                          },
                          &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                          &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                            &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                              &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                              &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                              &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                            },
                            &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                            &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                            },
                            &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                              &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            },
                            &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                              &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                            },
                            &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                              &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                            },
                          },
                          &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                            &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                            &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                            &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                          },
                          &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                          &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                          },
                        },
                        &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                          &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                            { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                              &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                              &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                            },
                          ],
                          &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                          &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                        },
                        &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                          &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                            &quot;A String&quot;,
                          ],
                          &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                            { # The definition of the Rag resource.
                              &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                              &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                &quot;A String&quot;,
                              ],
                            },
                          ],
                          &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                            &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                              &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                              &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                              &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                            },
                            &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                              &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                            },
                            &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                              &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                              },
                              &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                              },
                            },
                            &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                          },
                          &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                          &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                        },
                      },
                      &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                      },
                    },
                  ],
                  &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                  &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                    &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                      { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                        &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                          &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                          &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                        },
                        &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                          &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                          &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                        },
                        &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                          &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                          &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                            { # Partial argument value of the function call.
                              &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                              &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                              &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                              &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                              &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                              &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                            },
                          ],
                          &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                        },
                        &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                          &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                            { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                              &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                              &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                            },
                          ],
                          &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                        },
                        &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                          &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                          &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                        },
                        &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                        &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                        &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                        &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                          &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                          &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                          &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                        },
                      },
                    ],
                    &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                  },
                  &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                  &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
              ],
              &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
              &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
            },
          ],
        },
        &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
        &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
          { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
            &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
              { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                  &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                  &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                },
                &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                  &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                  &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                },
                &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                  &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                  &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                    { # Partial argument value of the function call.
                      &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                      &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                      &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                      &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                      &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                      &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                    },
                  ],
                  &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                },
                &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                  &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                    { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                      &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                        &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                    },
                  ],
                  &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
                &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                  &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                  &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                },
                &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                  &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                  &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                  &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                },
              },
            ],
            &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
          },
        ],
        &quot;text&quot;: &quot;A String&quot;, # Text response.
        &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
      },
    ],
    &quot;goldenResponse&quot;: { # Responses from model or agent. # Optional. The Ideal response or ground truth.
      &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
        &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
          &quot;a_key&quot;: { # Represents configuration for an Agent.
            &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
            &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
            &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
            &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
            &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
              &quot;A String&quot;,
            ],
            &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
              { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                },
                &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                  &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                  &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                    &quot;A String&quot;,
                  ],
                },
                &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                  &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                  &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                    &quot;A String&quot;,
                  ],
                },
                &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                  { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                    &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                    &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                    &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                      &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                      &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                        # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      ],
                      &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                      &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                      &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                        &quot;A String&quot;,
                      ],
                      &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                      &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                      &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                      &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                      &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                      &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                      &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                      &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                      &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                      &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                      &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                      &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                      &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                      &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                        &quot;A String&quot;,
                      ],
                      &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                      &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                        &quot;A String&quot;,
                      ],
                      &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                      &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                    },
                    &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                    &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                      &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                      &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                        # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      ],
                      &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                      &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                      &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                        &quot;A String&quot;,
                      ],
                      &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                      &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                      &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                      &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                      &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                      &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                      &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                      &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                      &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                      &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                      &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                      &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                      &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                      &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                        &quot;A String&quot;,
                      ],
                      &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                      &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                        &quot;A String&quot;,
                      ],
                      &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                      &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                    },
                    &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                  },
                ],
                &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                  &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                },
                &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                  &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                  &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                    &quot;A String&quot;,
                  ],
                },
                &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                  &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                    &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                    &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                  },
                },
                &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                  &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                  &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
                &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                  &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                  &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                    &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                      &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                        &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                        &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                      },
                    },
                    &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                    &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                      &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                        &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                        &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                        &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                        &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                      },
                      &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                      &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                      },
                      &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                        &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                      },
                      &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                        &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                      },
                      &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                        &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                      },
                    },
                    &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                      &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                      &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                      &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                    },
                    &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                    &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                    },
                  },
                  &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                    &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                      { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                        &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                      },
                    ],
                    &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                    &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                    &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                    &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                  },
                  &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                    &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                      &quot;A String&quot;,
                    ],
                    &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                      { # The definition of the Rag resource.
                        &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                        &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                          &quot;A String&quot;,
                        ],
                      },
                    ],
                    &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                      &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                        &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                        &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                      },
                      &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                        &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                      },
                      &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                        &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                          &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                        },
                        &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                          &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                        },
                      },
                      &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                    },
                    &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                    &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                    &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                  },
                },
                &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                },
              },
            ],
          },
        },
        &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
          { # Represents a single turn/invocation in the conversation.
            &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
              { # Represents a single event in the execution trace.
                &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                  { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                    &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                    },
                    &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                      &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                      &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                      { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                        &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                        &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                      },
                    ],
                    &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                      &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                    },
                    &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                      &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                        &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                        &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                      },
                    },
                    &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                      &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                      &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                    &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                      &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                      &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                        &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                          &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                            &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                          },
                        },
                        &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                        &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                          &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                            &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                            &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                          },
                          &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                          &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                          },
                          &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                            &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          },
                          &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                            &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                          },
                          &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                            &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                          },
                        },
                        &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                          &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                          &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                          &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                        },
                        &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                        &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                        },
                      },
                      &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                        &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                          { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                            &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                          },
                        ],
                        &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                        &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                      },
                      &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                        &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                          &quot;A String&quot;,
                        ],
                        &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                          { # The definition of the Rag resource.
                            &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                            &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                              &quot;A String&quot;,
                            ],
                          },
                        ],
                        &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                          &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                            &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                            &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                          },
                          &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                            &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                          },
                          &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                            &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                            },
                            &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                            },
                          },
                          &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                        },
                        &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                        &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                      },
                    },
                    &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                    },
                  },
                ],
                &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                  &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                    { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                      &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                        &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                        &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                      },
                      &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                        &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                        &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                      },
                      &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                        &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                        &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                          { # Partial argument value of the function call.
                            &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                            &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                            &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                            &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                            &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                            &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                          },
                        ],
                        &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                      },
                      &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                        &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                          { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                            &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                            &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                              &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                          },
                        ],
                        &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                        &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                        &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                      },
                      &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                      &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                      &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                      &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                        &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                        &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                        &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                      },
                    },
                  ],
                  &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                },
                &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                  &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                },
              },
            ],
            &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
            &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
          },
        ],
      },
      &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
      &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
        { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
          &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
            { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
              &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
              },
              &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
              },
              &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
              },
              &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                  &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                },
                &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                  { # Partial argument value of the function call.
                    &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                    &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                    &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                    &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                    &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                    &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                  },
                ],
                &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
              },
              &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                  { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                    &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                      &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                      &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                      &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                    },
                    &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                      &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                      &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                      &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                    },
                  },
                ],
                &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                  &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                },
              },
              &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
              },
              &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
              },
              &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
              &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
              &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
              &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
              },
            },
          ],
          &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
        },
      ],
      &quot;text&quot;: &quot;A String&quot;, # Text response.
      &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
    },
    &quot;prompt&quot;: { # Prompt to be evaluated. This can represent a single-turn prompt or a multi-turn conversation for agent evaluations. # Optional. The request/prompt to evaluate.
      &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This serves as the input context for agent scraping.
        &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
          &quot;a_key&quot;: { # Represents configuration for an Agent.
            &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
            &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
            &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
            &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
            &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
              &quot;A String&quot;,
            ],
            &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
              { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                },
                &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                  &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                  &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                    &quot;A String&quot;,
                  ],
                },
                &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                  &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                  &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                    &quot;A String&quot;,
                  ],
                },
                &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                  { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                    &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                    &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                    &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                      &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                      &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                        # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      ],
                      &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                      &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                      &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                        &quot;A String&quot;,
                      ],
                      &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                      &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                      &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                      &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                      &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                      &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                      &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                      &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                      &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                      &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                      &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                      &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                      &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                      &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                        &quot;A String&quot;,
                      ],
                      &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                      &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                        &quot;A String&quot;,
                      ],
                      &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                      &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                    },
                    &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                    &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                      &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                      &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                        # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      ],
                      &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                      &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                      &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                        &quot;A String&quot;,
                      ],
                      &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                      &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                      &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                      &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                      &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                      &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                      &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                      &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                      &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                      &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                      &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                      &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                      &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                      &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                        &quot;A String&quot;,
                      ],
                      &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                      &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                        &quot;A String&quot;,
                      ],
                      &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                      &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                    },
                    &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                  },
                ],
                &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                  &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                },
                &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                  &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                  &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                    &quot;A String&quot;,
                  ],
                },
                &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                  &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                    &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                    &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                  },
                },
                &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                  &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                  &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
                &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                  &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                  &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                    &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                      &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                        &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                        &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                      },
                    },
                    &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                    &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                      &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                        &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                        &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                        &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                        &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                      },
                      &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                      &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                      },
                      &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                        &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                      },
                      &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                        &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                      },
                      &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                        &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                      },
                    },
                    &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                      &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                      &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                      &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                    },
                    &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                    &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                    },
                  },
                  &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                    &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                      { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                        &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                      },
                    ],
                    &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                    &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                    &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                    &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                  },
                  &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                    &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                      &quot;A String&quot;,
                    ],
                    &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                      { # The definition of the Rag resource.
                        &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                        &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                          &quot;A String&quot;,
                        ],
                      },
                    ],
                    &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                      &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                        &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                        &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                      },
                      &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                        &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                      },
                      &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                        &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                          &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                        },
                        &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                          &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                        },
                      },
                      &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                    },
                    &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                    &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                    &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                  },
                },
                &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                },
              },
            ],
          },
        },
        &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
          { # Represents a single turn/invocation in the conversation.
            &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
              { # Represents a single event in the execution trace.
                &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                  { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                    &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                    },
                    &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                      &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                      &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                      { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                        &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                        &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                      },
                    ],
                    &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                      &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                    },
                    &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                      &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                        &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                        &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                      },
                    },
                    &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                      &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                      &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                    &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                      &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                      &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                        &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                          &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                            &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                          },
                        },
                        &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                        &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                          &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                            &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                            &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                          },
                          &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                          &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                          },
                          &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                            &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          },
                          &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                            &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                          },
                          &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                            &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                          },
                        },
                        &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                          &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                          &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                          &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                        },
                        &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                        &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                        },
                      },
                      &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                        &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                          { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                            &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                          },
                        ],
                        &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                        &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                      },
                      &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                        &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                          &quot;A String&quot;,
                        ],
                        &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                          { # The definition of the Rag resource.
                            &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                            &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                              &quot;A String&quot;,
                            ],
                          },
                        ],
                        &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                          &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                            &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                            &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                          },
                          &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                            &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                          },
                          &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                            &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                            },
                            &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                            },
                          },
                          &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                        },
                        &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                        &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                      },
                    },
                    &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                    },
                  },
                ],
                &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                  &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                    { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                      &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                        &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                        &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                      },
                      &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                        &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                        &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                      },
                      &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                        &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                        &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                          { # Partial argument value of the function call.
                            &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                            &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                            &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                            &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                            &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                            &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                          },
                        ],
                        &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                      },
                      &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                        &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                          { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                            &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                            &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                              &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                          },
                        ],
                        &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                        &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                        &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                      },
                      &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                      &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                      &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                      &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                        &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                        &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                        &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                      },
                    },
                  ],
                  &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                },
                &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                  &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                },
              },
            ],
            &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
            &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
          },
        ],
      },
      &quot;promptTemplateData&quot;: { # Message to hold a prompt template and the values to populate the template. # Prompt template data.
        &quot;values&quot;: { # The values for fields in the prompt template.
          &quot;a_key&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
            &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
              { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                  &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                  &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                },
                &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                  &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                  &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                },
                &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                  &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                  &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                    { # Partial argument value of the function call.
                      &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                      &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                      &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                      &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                      &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                      &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                    },
                  ],
                  &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                },
                &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                  &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                    { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                      &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                        &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                    },
                  ],
                  &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
                &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                  &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                  &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                },
                &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                  &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                  &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                  &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                },
              },
            ],
            &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
          },
        },
      },
      &quot;text&quot;: &quot;A String&quot;, # Text prompt.
      &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the prompt template.
    },
    &quot;rubrics&quot;: { # Optional. Named groups of rubrics associated with this prompt. The key is a user-defined name for the rubric group.
      &quot;a_key&quot;: { # A group of rubrics, used for grouping rubrics based on a metric or a version.
        &quot;displayName&quot;: &quot;A String&quot;, # Human-readable name for the group. This should be unique within a given context if used for display or selection. Example: &quot;Instruction Following V1&quot;, &quot;Content Quality - Summarization Task&quot;.
        &quot;groupId&quot;: &quot;A String&quot;, # Unique identifier for the group.
        &quot;rubrics&quot;: [ # Rubrics that are part of this group.
          { # Message representing a single testable criterion for evaluation. One input prompt could have multiple rubrics.
            &quot;content&quot;: { # Content of the rubric, defining the testable criteria. # Required. The actual testable criteria for the rubric.
              &quot;property&quot;: { # Defines criteria based on a specific property. # Evaluation criteria based on a specific property.
                &quot;description&quot;: &quot;A String&quot;, # Description of the property being evaluated. Example: &quot;The model&#x27;s response is grammatically correct.&quot;
              },
            },
            &quot;importance&quot;: &quot;A String&quot;, # Optional. The relative importance of this rubric.
            &quot;rubricId&quot;: &quot;A String&quot;, # Unique identifier for the rubric. This ID is used to refer to this rubric, e.g., in RubricVerdict.
            &quot;type&quot;: &quot;A String&quot;, # Optional. A type designator for the rubric, which can inform how it&#x27;s evaluated or interpreted by systems or users. It&#x27;s recommended to use consistent, well-defined, upper snake_case strings. Examples: &quot;SUMMARIZATION_QUALITY&quot;, &quot;SAFETY_HARMFUL_CONTENT&quot;, &quot;INSTRUCTION_ADHERENCE&quot;.
          },
        ],
      },
    },
  },
  &quot;evaluationResponse&quot;: { # Evaluation result. # Output only. The response from evaluation.
    &quot;candidateResults&quot;: [ # Optional. The results for the metric.
      { # Result for a single candidate.
        &quot;additionalResults&quot;: &quot;&quot;, # Optional. Additional results for the metric.
        &quot;candidate&quot;: &quot;A String&quot;, # Required. The candidate that is being evaluated. The value is the same as the candidate name in the EvaluationRequest.
        &quot;explanation&quot;: &quot;A String&quot;, # Optional. The explanation for the metric.
        &quot;metric&quot;: &quot;A String&quot;, # Required. The metric that was evaluated.
        &quot;rubricVerdicts&quot;: [ # Optional. The rubric verdicts for the metric.
          { # Represents the verdict of an evaluation against a single rubric.
            &quot;evaluatedRubric&quot;: { # Message representing a single testable criterion for evaluation. One input prompt could have multiple rubrics. # Required. The full rubric definition that was evaluated. Storing this ensures the verdict is self-contained and understandable, especially if the original rubric definition changes or was dynamically generated.
              &quot;content&quot;: { # Content of the rubric, defining the testable criteria. # Required. The actual testable criteria for the rubric.
                &quot;property&quot;: { # Defines criteria based on a specific property. # Evaluation criteria based on a specific property.
                  &quot;description&quot;: &quot;A String&quot;, # Description of the property being evaluated. Example: &quot;The model&#x27;s response is grammatically correct.&quot;
                },
              },
              &quot;importance&quot;: &quot;A String&quot;, # Optional. The relative importance of this rubric.
              &quot;rubricId&quot;: &quot;A String&quot;, # Unique identifier for the rubric. This ID is used to refer to this rubric, e.g., in RubricVerdict.
              &quot;type&quot;: &quot;A String&quot;, # Optional. A type designator for the rubric, which can inform how it&#x27;s evaluated or interpreted by systems or users. It&#x27;s recommended to use consistent, well-defined, upper snake_case strings. Examples: &quot;SUMMARIZATION_QUALITY&quot;, &quot;SAFETY_HARMFUL_CONTENT&quot;, &quot;INSTRUCTION_ADHERENCE&quot;.
            },
            &quot;reasoning&quot;: &quot;A String&quot;, # Optional. Human-readable reasoning or explanation for the verdict. This can include specific examples or details from the evaluated content that justify the given verdict.
            &quot;verdict&quot;: True or False, # Required. Outcome of the evaluation against the rubric, represented as a boolean. `true` indicates a &quot;Pass&quot;, `false` indicates a &quot;Fail&quot;.
          },
        ],
        &quot;score&quot;: 3.14, # Optional. The score for the metric.
      },
    ],
    &quot;evaluationRequest&quot;: &quot;A String&quot;, # Required. The request item that was evaluated. Format: projects/{project}/locations/{location}/evaluationItems/{evaluation_item}
    &quot;evaluationRun&quot;: &quot;A String&quot;, # Required. The evaluation run that was used to generate the result. Format: projects/{project}/locations/{location}/evaluationRuns/{evaluation_run}
    &quot;metadata&quot;: &quot;&quot;, # Optional. Metadata about the evaluation result.
    &quot;metric&quot;: &quot;A String&quot;, # Required. The metric that was evaluated.
    &quot;request&quot;: { # A single evaluation request supporting input for both single-turn model generation and multi-turn agent execution traces. Valid input modes: 1. Inference Mode: `prompt` is set (containing text or AgentData context). 2. Offline Eval Mode: `prompt` is unset, and `candidate_responses` contains `agent_data` (the completed execution trace). Validation Rule: Either `prompt` must be set, OR at least one of the `candidate_responses` must contain `agent_data`. # Required. The request that was evaluated.
      &quot;candidateResponses&quot;: [ # Optional. Responses from model under test and other baseline models for comparison.
        { # Responses from model or agent.
          &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
            &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
              &quot;a_key&quot;: { # Represents configuration for an Agent.
                &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
                &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
                &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
                &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
                &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                  &quot;A String&quot;,
                ],
                &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                  { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                    &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                    },
                    &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                      &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                      &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                      { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                        &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                        &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                      },
                    ],
                    &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                      &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                    },
                    &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                      &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                        &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                        &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                      },
                    },
                    &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                      &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                      &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                    &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                      &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                      &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                        &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                          &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                            &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                          },
                        },
                        &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                        &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                          &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                            &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                            &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                          },
                          &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                          &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                          },
                          &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                            &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          },
                          &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                            &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                          },
                          &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                            &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                          },
                        },
                        &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                          &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                          &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                          &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                        },
                        &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                        &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                        },
                      },
                      &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                        &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                          { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                            &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                          },
                        ],
                        &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                        &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                      },
                      &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                        &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                          &quot;A String&quot;,
                        ],
                        &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                          { # The definition of the Rag resource.
                            &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                            &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                              &quot;A String&quot;,
                            ],
                          },
                        ],
                        &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                          &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                            &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                            &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                          },
                          &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                            &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                          },
                          &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                            &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                            },
                            &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                            },
                          },
                          &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                        },
                        &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                        &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                      },
                    },
                    &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                    },
                  },
                ],
              },
            },
            &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
              { # Represents a single turn/invocation in the conversation.
                &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                  { # Represents a single event in the execution trace.
                    &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                      { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                        &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                        },
                        &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                          &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                          &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                          &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                          &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                          { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                            &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                            &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                              &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                              &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              ],
                              &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                              &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                              &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                &quot;A String&quot;,
                              ],
                              &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                              &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                              &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                              &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                              &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                              &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                              &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                              &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                              &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                              &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                              &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                              &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                              &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                              &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                &quot;A String&quot;,
                              ],
                              &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                              &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                &quot;A String&quot;,
                              ],
                              &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                              &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                            },
                            &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                            &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                              &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                              &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              ],
                              &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                              &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                              &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                &quot;A String&quot;,
                              ],
                              &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                              &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                              &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                              &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                              &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                              &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                              &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                              &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                              &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                              &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                              &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                              &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                              &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                              &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                &quot;A String&quot;,
                              ],
                              &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                              &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                &quot;A String&quot;,
                              ],
                              &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                              &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                            },
                            &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                          },
                        ],
                        &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                          &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                        },
                        &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                          &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                          &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                          &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                            &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                            &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                          },
                        },
                        &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                          &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                          &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                        },
                        &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                          &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                          &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                            &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                              &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                                &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                                &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                              },
                            },
                            &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                            &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                              &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                                &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                                &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                                &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                                &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                              },
                              &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                              &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                              },
                              &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                                &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              },
                              &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                                &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                              },
                              &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                                &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                              },
                            },
                            &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                              &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                              &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                              &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                            },
                            &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                            &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                            },
                          },
                          &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                            &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                              { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                                &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                                &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                              },
                            ],
                            &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                            &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                          },
                          &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                            &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                              &quot;A String&quot;,
                            ],
                            &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                              { # The definition of the Rag resource.
                                &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                                &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                  &quot;A String&quot;,
                                ],
                              },
                            ],
                            &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                              &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                                &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                                &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                                &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                              },
                              &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                                &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                              },
                              &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                                &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                  &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                                },
                                &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                  &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                                },
                              },
                              &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                            },
                            &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                            &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                          },
                        },
                        &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                        },
                      },
                    ],
                    &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                    &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                      &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                        { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                          &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                            &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                            &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                          },
                          &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                            &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                            &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                          },
                          &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                            &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                          &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                            &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                              &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                            },
                            &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                            &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                              { # Partial argument value of the function call.
                                &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                                &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                                &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                                &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                                &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                                &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                              },
                            ],
                            &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                          },
                          &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                            &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                            &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                            &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                              { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                                &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                  &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                },
                                &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                  &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                },
                              },
                            ],
                            &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                              &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                            },
                          },
                          &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                            &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                          &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                            &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                          },
                          &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                          &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                          &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                          &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                            &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                            &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                            &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                          },
                        },
                      ],
                      &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                    },
                    &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                    &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                ],
                &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
                &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
              },
            ],
          },
          &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
          &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
            { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
              &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                  &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                    &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                    &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                  },
                  &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                    &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                    &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                  },
                  &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                    &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                  },
                  &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                    &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                    &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                    &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                    &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                      { # Partial argument value of the function call.
                        &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                        &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                        &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                        &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                        &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                        &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                      },
                    ],
                    &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                  },
                  &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                    &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                    &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                    &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                      { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                        &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                          &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                      },
                    ],
                    &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                    &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                  },
                  &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                    &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                  },
                  &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                  &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                  &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                  &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                    &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                    &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                    &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                  },
                },
              ],
              &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
            },
          ],
          &quot;text&quot;: &quot;A String&quot;, # Text response.
          &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
        },
      ],
      &quot;goldenResponse&quot;: { # Responses from model or agent. # Optional. The Ideal response or ground truth.
        &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
          &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
            &quot;a_key&quot;: { # Represents configuration for an Agent.
              &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
              &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
              &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
              &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
              &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                &quot;A String&quot;,
              ],
              &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                  &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                  },
                  &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                    &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                    &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                    { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                      &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                      &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                      &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                    },
                  ],
                  &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                    &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                  },
                  &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                    &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                      &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                      &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                    },
                  },
                  &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                    &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                    &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                    &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                    &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                      &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                        &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                          &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                        },
                      },
                      &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                      &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                        &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                          &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                          &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                        },
                        &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                        &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                        },
                        &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                          &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                        },
                        &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                          &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                        },
                        &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                          &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                        },
                      },
                      &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                        &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                        &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                        &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                      },
                      &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                      &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                      },
                    },
                    &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                      &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                        { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                          &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                        },
                      ],
                      &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                      &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                      &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                      &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                    },
                    &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                      &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                        &quot;A String&quot;,
                      ],
                      &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                        { # The definition of the Rag resource.
                          &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                          &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                            &quot;A String&quot;,
                          ],
                        },
                      ],
                      &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                        &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                          &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                          &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                        },
                        &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                          &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                        },
                        &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                          &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                          },
                          &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                          },
                        },
                        &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                      },
                      &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                      &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                      &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                    },
                  },
                  &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                  },
                },
              ],
            },
          },
          &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
            { # Represents a single turn/invocation in the conversation.
              &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                { # Represents a single event in the execution trace.
                  &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                    { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                      &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                      },
                      &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                        &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                        &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                        { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                          &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                          &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                        },
                      ],
                      &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                        &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                      },
                      &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                        &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                          &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                          &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                        },
                      },
                      &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                        &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                        &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                        &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                        &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                          &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                            &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                              &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                            },
                          },
                          &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                          &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                            &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                              &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                              &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                              &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                            },
                            &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                            &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                            },
                            &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                              &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            },
                            &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                              &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                            },
                            &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                              &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                            },
                          },
                          &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                            &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                            &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                            &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                          },
                          &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                          &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                          },
                        },
                        &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                          &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                            { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                              &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                              &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                            },
                          ],
                          &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                          &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                        },
                        &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                          &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                            &quot;A String&quot;,
                          ],
                          &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                            { # The definition of the Rag resource.
                              &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                              &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                &quot;A String&quot;,
                              ],
                            },
                          ],
                          &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                            &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                              &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                              &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                              &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                            },
                            &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                              &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                            },
                            &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                              &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                              },
                              &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                              },
                            },
                            &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                          },
                          &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                          &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                        },
                      },
                      &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                      },
                    },
                  ],
                  &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                  &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                    &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                      { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                        &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                          &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                          &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                        },
                        &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                          &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                          &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                        },
                        &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                          &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                          &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                            { # Partial argument value of the function call.
                              &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                              &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                              &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                              &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                              &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                              &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                            },
                          ],
                          &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                        },
                        &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                          &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                            { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                              &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                              &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                            },
                          ],
                          &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                        },
                        &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                          &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                          &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                        },
                        &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                        &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                        &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                        &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                          &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                          &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                          &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                        },
                      },
                    ],
                    &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                  },
                  &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                  &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
              ],
              &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
              &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
            },
          ],
        },
        &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
        &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
          { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
            &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
              { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                  &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                  &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                },
                &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                  &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                  &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                },
                &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                  &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                  &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                    { # Partial argument value of the function call.
                      &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                      &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                      &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                      &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                      &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                      &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                    },
                  ],
                  &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                },
                &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                  &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                    { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                      &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                        &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                    },
                  ],
                  &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
                &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                  &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                  &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                },
                &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                  &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                  &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                  &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                },
              },
            ],
            &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
          },
        ],
        &quot;text&quot;: &quot;A String&quot;, # Text response.
        &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
      },
      &quot;prompt&quot;: { # Prompt to be evaluated. This can represent a single-turn prompt or a multi-turn conversation for agent evaluations. # Optional. The request/prompt to evaluate.
        &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This serves as the input context for agent scraping.
          &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
            &quot;a_key&quot;: { # Represents configuration for an Agent.
              &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
              &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
              &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
              &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
              &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                &quot;A String&quot;,
              ],
              &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                  &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                  },
                  &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                    &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                    &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                    { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                      &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                      &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                      &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                    },
                  ],
                  &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                    &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                  },
                  &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                    &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                      &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                      &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                    },
                  },
                  &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                    &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                    &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                    &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                    &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                      &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                        &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                          &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                        },
                      },
                      &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                      &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                        &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                          &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                          &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                        },
                        &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                        &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                        },
                        &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                          &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                        },
                        &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                          &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                        },
                        &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                          &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                        },
                      },
                      &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                        &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                        &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                        &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                      },
                      &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                      &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                      },
                    },
                    &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                      &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                        { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                          &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                        },
                      ],
                      &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                      &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                      &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                      &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                    },
                    &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                      &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                        &quot;A String&quot;,
                      ],
                      &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                        { # The definition of the Rag resource.
                          &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                          &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                            &quot;A String&quot;,
                          ],
                        },
                      ],
                      &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                        &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                          &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                          &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                        },
                        &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                          &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                        },
                        &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                          &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                          },
                          &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                          },
                        },
                        &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                      },
                      &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                      &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                      &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                    },
                  },
                  &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                  },
                },
              ],
            },
          },
          &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
            { # Represents a single turn/invocation in the conversation.
              &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                { # Represents a single event in the execution trace.
                  &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                    { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                      &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                      },
                      &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                        &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                        &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                        { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                          &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                          &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                        },
                      ],
                      &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                        &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                      },
                      &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                        &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                          &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                          &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                        },
                      },
                      &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                        &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                        &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                        &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                        &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                          &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                            &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                              &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                            },
                          },
                          &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                          &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                            &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                              &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                              &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                              &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                            },
                            &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                            &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                            },
                            &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                              &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            },
                            &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                              &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                            },
                            &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                              &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                            },
                          },
                          &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                            &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                            &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                            &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                          },
                          &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                          &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                          },
                        },
                        &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                          &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                            { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                              &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                              &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                            },
                          ],
                          &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                          &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                        },
                        &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                          &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                            &quot;A String&quot;,
                          ],
                          &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                            { # The definition of the Rag resource.
                              &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                              &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                &quot;A String&quot;,
                              ],
                            },
                          ],
                          &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                            &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                              &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                              &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                              &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                            },
                            &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                              &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                            },
                            &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                              &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                              },
                              &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                              },
                            },
                            &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                          },
                          &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                          &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                        },
                      },
                      &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                      },
                    },
                  ],
                  &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                  &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                    &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                      { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                        &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                          &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                          &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                        },
                        &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                          &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                          &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                        },
                        &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                          &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                          &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                            { # Partial argument value of the function call.
                              &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                              &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                              &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                              &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                              &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                              &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                            },
                          ],
                          &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                        },
                        &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                          &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                            { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                              &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                              &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                            },
                          ],
                          &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                        },
                        &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                          &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                          &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                        },
                        &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                        &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                        &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                        &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                          &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                          &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                          &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                        },
                      },
                    ],
                    &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                  },
                  &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                  &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
              ],
              &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
              &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
            },
          ],
        },
        &quot;promptTemplateData&quot;: { # Message to hold a prompt template and the values to populate the template. # Prompt template data.
          &quot;values&quot;: { # The values for fields in the prompt template.
            &quot;a_key&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
              &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                  &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                    &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                    &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                  },
                  &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                    &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                    &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                  },
                  &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                    &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                  },
                  &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                    &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                    &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                    &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                    &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                      { # Partial argument value of the function call.
                        &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                        &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                        &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                        &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                        &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                        &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                      },
                    ],
                    &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                  },
                  &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                    &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                    &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                    &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                      { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                        &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                          &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                      },
                    ],
                    &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                    &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                  },
                  &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                    &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                  },
                  &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                  &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                  &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                  &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                    &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                    &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                    &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                  },
                },
              ],
              &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
            },
          },
        },
        &quot;text&quot;: &quot;A String&quot;, # Text prompt.
        &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the prompt template.
      },
      &quot;rubrics&quot;: { # Optional. Named groups of rubrics associated with this prompt. The key is a user-defined name for the rubric group.
        &quot;a_key&quot;: { # A group of rubrics, used for grouping rubrics based on a metric or a version.
          &quot;displayName&quot;: &quot;A String&quot;, # Human-readable name for the group. This should be unique within a given context if used for display or selection. Example: &quot;Instruction Following V1&quot;, &quot;Content Quality - Summarization Task&quot;.
          &quot;groupId&quot;: &quot;A String&quot;, # Unique identifier for the group.
          &quot;rubrics&quot;: [ # Rubrics that are part of this group.
            { # Message representing a single testable criterion for evaluation. One input prompt could have multiple rubrics.
              &quot;content&quot;: { # Content of the rubric, defining the testable criteria. # Required. The actual testable criteria for the rubric.
                &quot;property&quot;: { # Defines criteria based on a specific property. # Evaluation criteria based on a specific property.
                  &quot;description&quot;: &quot;A String&quot;, # Description of the property being evaluated. Example: &quot;The model&#x27;s response is grammatically correct.&quot;
                },
              },
              &quot;importance&quot;: &quot;A String&quot;, # Optional. The relative importance of this rubric.
              &quot;rubricId&quot;: &quot;A String&quot;, # Unique identifier for the rubric. This ID is used to refer to this rubric, e.g., in RubricVerdict.
              &quot;type&quot;: &quot;A String&quot;, # Optional. A type designator for the rubric, which can inform how it&#x27;s evaluated or interpreted by systems or users. It&#x27;s recommended to use consistent, well-defined, upper snake_case strings. Examples: &quot;SUMMARIZATION_QUALITY&quot;, &quot;SAFETY_HARMFUL_CONTENT&quot;, &quot;INSTRUCTION_ADHERENCE&quot;.
            },
          ],
        },
      },
    },
  },
  &quot;gcsUri&quot;: &quot;A String&quot;, # The Cloud Storage object where the request or response is stored.
  &quot;labels&quot;: { # Optional. Labels for the EvaluationItem.
    &quot;a_key&quot;: &quot;A String&quot;,
  },
  &quot;metadata&quot;: &quot;&quot;, # Optional. Metadata for the EvaluationItem.
  &quot;name&quot;: &quot;A String&quot;, # Identifier. The resource name of the EvaluationItem. Format: `projects/{project}/locations/{location}/evaluationItems/{evaluation_item}`
}</pre>
</div>

<div class="method">
    <code class="details" id="delete">delete(name, x__xgafv=None)</code>
  <pre>Deletes an Evaluation Item.

Args:
  name: string, Required. The name of the EvaluationItem resource to be deleted. Format: `projects/{project}/locations/{location}/evaluationItems/{evaluation_item}` (required)
  x__xgafv: string, V1 error format.
    Allowed values
      1 - v1 error format
      2 - v2 error format

Returns:
  An object of the form:

    { # This resource represents a long-running operation that is the result of a network API call.
  &quot;done&quot;: True or False, # If the value is `false`, it means the operation is still in progress. If `true`, the operation is completed, and either `error` or `response` is available.
  &quot;error&quot;: { # The `Status` type defines a logical error model that is suitable for different programming environments, including REST APIs and RPC APIs. It is used by [gRPC](https://github.com/grpc). Each `Status` message contains three pieces of data: error code, error message, and error details. You can find out more about this error model and how to work with it in the [API Design Guide](https://cloud.google.com/apis/design/errors). # The error result of the operation in case of failure or cancellation.
    &quot;code&quot;: 42, # The status code, which should be an enum value of google.rpc.Code.
    &quot;details&quot;: [ # A list of messages that carry the error details. There is a common set of message types for APIs to use.
      {
        &quot;a_key&quot;: &quot;&quot;, # Properties of the object. Contains field @type with type URL.
      },
    ],
    &quot;message&quot;: &quot;A String&quot;, # A developer-facing error message, which should be in English. Any user-facing error message should be localized and sent in the google.rpc.Status.details field, or localized by the client.
  },
  &quot;metadata&quot;: { # Service-specific metadata associated with the operation. It typically contains progress information and common metadata such as create time. Some services might not provide such metadata. Any method that returns a long-running operation should document the metadata type, if any.
    &quot;a_key&quot;: &quot;&quot;, # Properties of the object. Contains field @type with type URL.
  },
  &quot;name&quot;: &quot;A String&quot;, # The server-assigned name, which is only unique within the same service that originally returns it. If you use the default HTTP mapping, the `name` should be a resource name ending with `operations/{unique_id}`.
  &quot;response&quot;: { # The normal, successful response of the operation. If the original method returns no data on success, such as `Delete`, the response is `google.protobuf.Empty`. If the original method is standard `Get`/`Create`/`Update`, the response should be the resource. For other methods, the response should have the type `XxxResponse`, where `Xxx` is the original method name. For example, if the original method name is `TakeSnapshot()`, the inferred response type is `TakeSnapshotResponse`.
    &quot;a_key&quot;: &quot;&quot;, # Properties of the object. Contains field @type with type URL.
  },
}</pre>
</div>

<div class="method">
    <code class="details" id="get">get(name, x__xgafv=None)</code>
  <pre>Gets an Evaluation Item.

Args:
  name: string, Required. The name of the EvaluationItem resource. Format: `projects/{project}/locations/{location}/evaluationItems/{evaluation_item}` (required)
  x__xgafv: string, V1 error format.
    Allowed values
      1 - v1 error format
      2 - v2 error format

Returns:
  An object of the form:

    { # EvaluationItem is a single evaluation request or result. The content of an EvaluationItem is immutable - it cannot be updated once created. EvaluationItems can be deleted when no longer needed.
  &quot;createTime&quot;: &quot;A String&quot;, # Output only. Timestamp when this item was created.
  &quot;displayName&quot;: &quot;A String&quot;, # Required. The display name of the EvaluationItem.
  &quot;error&quot;: { # The `Status` type defines a logical error model that is suitable for different programming environments, including REST APIs and RPC APIs. It is used by [gRPC](https://github.com/grpc). Each `Status` message contains three pieces of data: error code, error message, and error details. You can find out more about this error model and how to work with it in the [API Design Guide](https://cloud.google.com/apis/design/errors). # Output only. Error for the evaluation item.
    &quot;code&quot;: 42, # The status code, which should be an enum value of google.rpc.Code.
    &quot;details&quot;: [ # A list of messages that carry the error details. There is a common set of message types for APIs to use.
      {
        &quot;a_key&quot;: &quot;&quot;, # Properties of the object. Contains field @type with type URL.
      },
    ],
    &quot;message&quot;: &quot;A String&quot;, # A developer-facing error message, which should be in English. Any user-facing error message should be localized and sent in the google.rpc.Status.details field, or localized by the client.
  },
  &quot;evaluationItemType&quot;: &quot;A String&quot;, # Required. The type of the EvaluationItem.
  &quot;evaluationRequest&quot;: { # A single evaluation request supporting input for both single-turn model generation and multi-turn agent execution traces. Valid input modes: 1. Inference Mode: `prompt` is set (containing text or AgentData context). 2. Offline Eval Mode: `prompt` is unset, and `candidate_responses` contains `agent_data` (the completed execution trace). Validation Rule: Either `prompt` must be set, OR at least one of the `candidate_responses` must contain `agent_data`. # The request to evaluate.
    &quot;candidateResponses&quot;: [ # Optional. Responses from model under test and other baseline models for comparison.
      { # Responses from model or agent.
        &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
          &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
            &quot;a_key&quot;: { # Represents configuration for an Agent.
              &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
              &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
              &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
              &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
              &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                &quot;A String&quot;,
              ],
              &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                  &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                  },
                  &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                    &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                    &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                    { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                      &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                      &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                      &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                    },
                  ],
                  &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                    &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                  },
                  &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                    &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                      &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                      &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                    },
                  },
                  &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                    &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                    &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                    &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                    &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                      &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                        &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                          &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                        },
                      },
                      &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                      &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                        &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                          &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                          &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                        },
                        &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                        &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                        },
                        &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                          &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                        },
                        &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                          &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                        },
                        &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                          &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                        },
                      },
                      &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                        &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                        &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                        &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                      },
                      &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                      &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                      },
                    },
                    &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                      &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                        { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                          &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                        },
                      ],
                      &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                      &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                      &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                      &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                    },
                    &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                      &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                        &quot;A String&quot;,
                      ],
                      &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                        { # The definition of the Rag resource.
                          &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                          &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                            &quot;A String&quot;,
                          ],
                        },
                      ],
                      &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                        &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                          &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                          &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                        },
                        &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                          &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                        },
                        &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                          &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                          },
                          &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                          },
                        },
                        &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                      },
                      &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                      &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                      &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                    },
                  },
                  &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                  },
                },
              ],
            },
          },
          &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
            { # Represents a single turn/invocation in the conversation.
              &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                { # Represents a single event in the execution trace.
                  &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                    { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                      &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                      },
                      &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                        &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                        &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                        { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                          &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                          &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                        },
                      ],
                      &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                        &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                      },
                      &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                        &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                          &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                          &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                        },
                      },
                      &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                        &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                        &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                        &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                        &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                          &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                            &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                              &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                            },
                          },
                          &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                          &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                            &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                              &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                              &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                              &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                            },
                            &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                            &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                            },
                            &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                              &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            },
                            &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                              &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                            },
                            &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                              &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                            },
                          },
                          &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                            &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                            &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                            &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                          },
                          &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                          &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                          },
                        },
                        &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                          &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                            { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                              &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                              &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                            },
                          ],
                          &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                          &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                        },
                        &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                          &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                            &quot;A String&quot;,
                          ],
                          &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                            { # The definition of the Rag resource.
                              &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                              &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                &quot;A String&quot;,
                              ],
                            },
                          ],
                          &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                            &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                              &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                              &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                              &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                            },
                            &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                              &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                            },
                            &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                              &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                              },
                              &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                              },
                            },
                            &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                          },
                          &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                          &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                        },
                      },
                      &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                      },
                    },
                  ],
                  &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                  &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                    &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                      { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                        &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                          &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                          &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                        },
                        &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                          &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                          &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                        },
                        &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                          &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                          &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                            { # Partial argument value of the function call.
                              &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                              &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                              &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                              &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                              &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                              &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                            },
                          ],
                          &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                        },
                        &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                          &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                            { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                              &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                              &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                            },
                          ],
                          &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                        },
                        &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                          &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                          &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                        },
                        &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                        &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                        &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                        &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                          &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                          &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                          &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                        },
                      },
                    ],
                    &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                  },
                  &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                  &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
              ],
              &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
              &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
            },
          ],
        },
        &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
        &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
          { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
            &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
              { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                  &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                  &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                },
                &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                  &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                  &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                },
                &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                  &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                  &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                    { # Partial argument value of the function call.
                      &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                      &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                      &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                      &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                      &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                      &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                    },
                  ],
                  &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                },
                &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                  &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                    { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                      &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                        &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                    },
                  ],
                  &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
                &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                  &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                  &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                },
                &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                  &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                  &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                  &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                },
              },
            ],
            &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
          },
        ],
        &quot;text&quot;: &quot;A String&quot;, # Text response.
        &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
      },
    ],
    &quot;goldenResponse&quot;: { # Responses from model or agent. # Optional. The Ideal response or ground truth.
      &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
        &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
          &quot;a_key&quot;: { # Represents configuration for an Agent.
            &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
            &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
            &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
            &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
            &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
              &quot;A String&quot;,
            ],
            &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
              { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                },
                &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                  &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                  &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                    &quot;A String&quot;,
                  ],
                },
                &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                  &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                  &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                    &quot;A String&quot;,
                  ],
                },
                &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                  { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                    &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                    &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                    &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                      &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                      &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                        # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      ],
                      &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                      &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                      &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                        &quot;A String&quot;,
                      ],
                      &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                      &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                      &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                      &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                      &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                      &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                      &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                      &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                      &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                      &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                      &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                      &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                      &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                      &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                        &quot;A String&quot;,
                      ],
                      &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                      &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                        &quot;A String&quot;,
                      ],
                      &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                      &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                    },
                    &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                    &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                      &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                      &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                        # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      ],
                      &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                      &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                      &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                        &quot;A String&quot;,
                      ],
                      &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                      &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                      &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                      &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                      &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                      &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                      &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                      &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                      &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                      &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                      &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                      &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                      &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                      &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                        &quot;A String&quot;,
                      ],
                      &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                      &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                        &quot;A String&quot;,
                      ],
                      &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                      &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                    },
                    &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                  },
                ],
                &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                  &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                },
                &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                  &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                  &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                    &quot;A String&quot;,
                  ],
                },
                &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                  &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                    &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                    &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                  },
                },
                &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                  &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                  &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
                &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                  &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                  &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                    &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                      &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                        &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                        &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                      },
                    },
                    &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                    &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                      &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                        &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                        &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                        &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                        &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                      },
                      &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                      &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                      },
                      &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                        &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                      },
                      &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                        &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                      },
                      &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                        &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                      },
                    },
                    &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                      &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                      &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                      &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                    },
                    &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                    &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                    },
                  },
                  &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                    &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                      { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                        &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                      },
                    ],
                    &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                    &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                    &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                    &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                  },
                  &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                    &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                      &quot;A String&quot;,
                    ],
                    &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                      { # The definition of the Rag resource.
                        &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                        &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                          &quot;A String&quot;,
                        ],
                      },
                    ],
                    &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                      &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                        &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                        &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                      },
                      &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                        &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                      },
                      &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                        &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                          &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                        },
                        &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                          &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                        },
                      },
                      &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                    },
                    &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                    &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                    &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                  },
                },
                &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                },
              },
            ],
          },
        },
        &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
          { # Represents a single turn/invocation in the conversation.
            &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
              { # Represents a single event in the execution trace.
                &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                  { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                    &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                    },
                    &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                      &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                      &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                      { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                        &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                        &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                      },
                    ],
                    &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                      &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                    },
                    &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                      &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                        &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                        &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                      },
                    },
                    &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                      &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                      &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                    &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                      &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                      &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                        &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                          &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                            &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                          },
                        },
                        &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                        &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                          &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                            &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                            &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                          },
                          &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                          &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                          },
                          &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                            &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          },
                          &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                            &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                          },
                          &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                            &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                          },
                        },
                        &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                          &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                          &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                          &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                        },
                        &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                        &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                        },
                      },
                      &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                        &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                          { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                            &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                          },
                        ],
                        &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                        &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                      },
                      &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                        &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                          &quot;A String&quot;,
                        ],
                        &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                          { # The definition of the Rag resource.
                            &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                            &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                              &quot;A String&quot;,
                            ],
                          },
                        ],
                        &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                          &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                            &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                            &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                          },
                          &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                            &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                          },
                          &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                            &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                            },
                            &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                            },
                          },
                          &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                        },
                        &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                        &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                      },
                    },
                    &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                    },
                  },
                ],
                &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                  &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                    { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                      &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                        &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                        &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                      },
                      &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                        &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                        &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                      },
                      &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                        &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                        &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                          { # Partial argument value of the function call.
                            &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                            &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                            &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                            &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                            &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                            &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                          },
                        ],
                        &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                      },
                      &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                        &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                          { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                            &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                            &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                              &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                          },
                        ],
                        &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                        &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                        &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                      },
                      &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                      &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                      &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                      &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                        &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                        &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                        &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                      },
                    },
                  ],
                  &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                },
                &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                  &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                },
              },
            ],
            &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
            &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
          },
        ],
      },
      &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
      &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
        { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
          &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
            { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
              &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
              },
              &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
              },
              &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
              },
              &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                  &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                },
                &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                  { # Partial argument value of the function call.
                    &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                    &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                    &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                    &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                    &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                    &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                  },
                ],
                &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
              },
              &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                  { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                    &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                      &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                      &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                      &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                    },
                    &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                      &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                      &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                      &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                    },
                  },
                ],
                &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                  &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                },
              },
              &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
              },
              &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
              },
              &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
              &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
              &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
              &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
              },
            },
          ],
          &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
        },
      ],
      &quot;text&quot;: &quot;A String&quot;, # Text response.
      &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
    },
    &quot;prompt&quot;: { # Prompt to be evaluated. This can represent a single-turn prompt or a multi-turn conversation for agent evaluations. # Optional. The request/prompt to evaluate.
      &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This serves as the input context for agent scraping.
        &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
          &quot;a_key&quot;: { # Represents configuration for an Agent.
            &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
            &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
            &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
            &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
            &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
              &quot;A String&quot;,
            ],
            &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
              { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                },
                &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                  &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                  &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                    &quot;A String&quot;,
                  ],
                },
                &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                  &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                  &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                    &quot;A String&quot;,
                  ],
                },
                &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                  { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                    &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                    &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                    &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                      &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                      &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                        # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      ],
                      &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                      &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                      &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                        &quot;A String&quot;,
                      ],
                      &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                      &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                      &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                      &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                      &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                      &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                      &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                      &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                      &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                      &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                      &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                      &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                      &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                      &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                        &quot;A String&quot;,
                      ],
                      &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                      &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                        &quot;A String&quot;,
                      ],
                      &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                      &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                    },
                    &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                    &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                      &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                      &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                        # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      ],
                      &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                      &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                      &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                        &quot;A String&quot;,
                      ],
                      &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                      &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                      &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                      &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                      &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                      &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                      &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                      &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                      &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                      &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                      &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                      &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                      &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                      &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                        &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                      },
                      &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                        &quot;A String&quot;,
                      ],
                      &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                      &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                        &quot;A String&quot;,
                      ],
                      &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                      &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                    },
                    &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                  },
                ],
                &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                  &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                },
                &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                  &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                  &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                    &quot;A String&quot;,
                  ],
                },
                &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                  &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                    &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                    &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                  },
                },
                &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                  &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                  &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
                &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                  &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                  &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                    &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                      &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                        &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                        &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                      },
                    },
                    &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                    &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                      &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                        &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                        &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                        &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                        &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                      },
                      &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                      &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                      },
                      &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                        &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                      },
                      &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                        &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                      },
                      &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                        &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                        &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                      },
                    },
                    &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                      &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                      &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                      &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                    },
                    &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                    &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                    },
                  },
                  &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                    &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                      { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                        &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                      },
                    ],
                    &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                    &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                    &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                    &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                  },
                  &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                    &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                      &quot;A String&quot;,
                    ],
                    &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                      { # The definition of the Rag resource.
                        &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                        &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                          &quot;A String&quot;,
                        ],
                      },
                    ],
                    &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                      &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                        &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                        &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                      },
                      &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                        &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                      },
                      &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                        &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                          &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                        },
                        &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                          &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                        },
                      },
                      &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                    },
                    &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                    &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                    &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                  },
                },
                &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                },
              },
            ],
          },
        },
        &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
          { # Represents a single turn/invocation in the conversation.
            &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
              { # Represents a single event in the execution trace.
                &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                  { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                    &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                    },
                    &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                      &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                      &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                      { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                        &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                        &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                      },
                    ],
                    &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                      &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                    },
                    &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                      &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                        &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                        &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                      },
                    },
                    &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                      &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                      &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                    &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                      &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                      &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                        &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                          &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                            &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                          },
                        },
                        &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                        &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                          &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                            &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                            &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                          },
                          &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                          &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                          },
                          &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                            &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          },
                          &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                            &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                          },
                          &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                            &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                          },
                        },
                        &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                          &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                          &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                          &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                        },
                        &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                        &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                        },
                      },
                      &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                        &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                          { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                            &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                          },
                        ],
                        &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                        &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                      },
                      &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                        &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                          &quot;A String&quot;,
                        ],
                        &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                          { # The definition of the Rag resource.
                            &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                            &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                              &quot;A String&quot;,
                            ],
                          },
                        ],
                        &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                          &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                            &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                            &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                          },
                          &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                            &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                          },
                          &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                            &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                            },
                            &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                            },
                          },
                          &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                        },
                        &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                        &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                      },
                    },
                    &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                    },
                  },
                ],
                &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                  &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                    { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                      &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                        &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                        &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                      },
                      &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                        &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                        &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                      },
                      &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                        &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                        &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                          { # Partial argument value of the function call.
                            &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                            &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                            &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                            &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                            &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                            &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                          },
                        ],
                        &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                      },
                      &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                        &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                          { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                            &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                            &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                              &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                          },
                        ],
                        &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                        &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                        &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                      },
                      &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                      &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                      &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                      &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                        &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                        &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                        &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                      },
                    },
                  ],
                  &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                },
                &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                  &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                },
              },
            ],
            &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
            &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
          },
        ],
      },
      &quot;promptTemplateData&quot;: { # Message to hold a prompt template and the values to populate the template. # Prompt template data.
        &quot;values&quot;: { # The values for fields in the prompt template.
          &quot;a_key&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
            &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
              { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                  &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                  &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                },
                &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                  &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                  &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                },
                &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                  &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                  &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                    { # Partial argument value of the function call.
                      &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                      &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                      &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                      &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                      &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                      &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                    },
                  ],
                  &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                },
                &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                  &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                    { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                      &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                        &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                    },
                  ],
                  &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
                &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                  &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                  &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                },
                &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                  &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                  &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                  &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                },
              },
            ],
            &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
          },
        },
      },
      &quot;text&quot;: &quot;A String&quot;, # Text prompt.
      &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the prompt template.
    },
    &quot;rubrics&quot;: { # Optional. Named groups of rubrics associated with this prompt. The key is a user-defined name for the rubric group.
      &quot;a_key&quot;: { # A group of rubrics, used for grouping rubrics based on a metric or a version.
        &quot;displayName&quot;: &quot;A String&quot;, # Human-readable name for the group. This should be unique within a given context if used for display or selection. Example: &quot;Instruction Following V1&quot;, &quot;Content Quality - Summarization Task&quot;.
        &quot;groupId&quot;: &quot;A String&quot;, # Unique identifier for the group.
        &quot;rubrics&quot;: [ # Rubrics that are part of this group.
          { # Message representing a single testable criterion for evaluation. One input prompt could have multiple rubrics.
            &quot;content&quot;: { # Content of the rubric, defining the testable criteria. # Required. The actual testable criteria for the rubric.
              &quot;property&quot;: { # Defines criteria based on a specific property. # Evaluation criteria based on a specific property.
                &quot;description&quot;: &quot;A String&quot;, # Description of the property being evaluated. Example: &quot;The model&#x27;s response is grammatically correct.&quot;
              },
            },
            &quot;importance&quot;: &quot;A String&quot;, # Optional. The relative importance of this rubric.
            &quot;rubricId&quot;: &quot;A String&quot;, # Unique identifier for the rubric. This ID is used to refer to this rubric, e.g., in RubricVerdict.
            &quot;type&quot;: &quot;A String&quot;, # Optional. A type designator for the rubric, which can inform how it&#x27;s evaluated or interpreted by systems or users. It&#x27;s recommended to use consistent, well-defined, upper snake_case strings. Examples: &quot;SUMMARIZATION_QUALITY&quot;, &quot;SAFETY_HARMFUL_CONTENT&quot;, &quot;INSTRUCTION_ADHERENCE&quot;.
          },
        ],
      },
    },
  },
  &quot;evaluationResponse&quot;: { # Evaluation result. # Output only. The response from evaluation.
    &quot;candidateResults&quot;: [ # Optional. The results for the metric.
      { # Result for a single candidate.
        &quot;additionalResults&quot;: &quot;&quot;, # Optional. Additional results for the metric.
        &quot;candidate&quot;: &quot;A String&quot;, # Required. The candidate that is being evaluated. The value is the same as the candidate name in the EvaluationRequest.
        &quot;explanation&quot;: &quot;A String&quot;, # Optional. The explanation for the metric.
        &quot;metric&quot;: &quot;A String&quot;, # Required. The metric that was evaluated.
        &quot;rubricVerdicts&quot;: [ # Optional. The rubric verdicts for the metric.
          { # Represents the verdict of an evaluation against a single rubric.
            &quot;evaluatedRubric&quot;: { # Message representing a single testable criterion for evaluation. One input prompt could have multiple rubrics. # Required. The full rubric definition that was evaluated. Storing this ensures the verdict is self-contained and understandable, especially if the original rubric definition changes or was dynamically generated.
              &quot;content&quot;: { # Content of the rubric, defining the testable criteria. # Required. The actual testable criteria for the rubric.
                &quot;property&quot;: { # Defines criteria based on a specific property. # Evaluation criteria based on a specific property.
                  &quot;description&quot;: &quot;A String&quot;, # Description of the property being evaluated. Example: &quot;The model&#x27;s response is grammatically correct.&quot;
                },
              },
              &quot;importance&quot;: &quot;A String&quot;, # Optional. The relative importance of this rubric.
              &quot;rubricId&quot;: &quot;A String&quot;, # Unique identifier for the rubric. This ID is used to refer to this rubric, e.g., in RubricVerdict.
              &quot;type&quot;: &quot;A String&quot;, # Optional. A type designator for the rubric, which can inform how it&#x27;s evaluated or interpreted by systems or users. It&#x27;s recommended to use consistent, well-defined, upper snake_case strings. Examples: &quot;SUMMARIZATION_QUALITY&quot;, &quot;SAFETY_HARMFUL_CONTENT&quot;, &quot;INSTRUCTION_ADHERENCE&quot;.
            },
            &quot;reasoning&quot;: &quot;A String&quot;, # Optional. Human-readable reasoning or explanation for the verdict. This can include specific examples or details from the evaluated content that justify the given verdict.
            &quot;verdict&quot;: True or False, # Required. Outcome of the evaluation against the rubric, represented as a boolean. `true` indicates a &quot;Pass&quot;, `false` indicates a &quot;Fail&quot;.
          },
        ],
        &quot;score&quot;: 3.14, # Optional. The score for the metric.
      },
    ],
    &quot;evaluationRequest&quot;: &quot;A String&quot;, # Required. The request item that was evaluated. Format: projects/{project}/locations/{location}/evaluationItems/{evaluation_item}
    &quot;evaluationRun&quot;: &quot;A String&quot;, # Required. The evaluation run that was used to generate the result. Format: projects/{project}/locations/{location}/evaluationRuns/{evaluation_run}
    &quot;metadata&quot;: &quot;&quot;, # Optional. Metadata about the evaluation result.
    &quot;metric&quot;: &quot;A String&quot;, # Required. The metric that was evaluated.
    &quot;request&quot;: { # A single evaluation request supporting input for both single-turn model generation and multi-turn agent execution traces. Valid input modes: 1. Inference Mode: `prompt` is set (containing text or AgentData context). 2. Offline Eval Mode: `prompt` is unset, and `candidate_responses` contains `agent_data` (the completed execution trace). Validation Rule: Either `prompt` must be set, OR at least one of the `candidate_responses` must contain `agent_data`. # Required. The request that was evaluated.
      &quot;candidateResponses&quot;: [ # Optional. Responses from model under test and other baseline models for comparison.
        { # Responses from model or agent.
          &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
            &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
              &quot;a_key&quot;: { # Represents configuration for an Agent.
                &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
                &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
                &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
                &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
                &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                  &quot;A String&quot;,
                ],
                &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                  { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                    &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                    },
                    &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                      &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                      &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                      { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                        &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                        &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                      },
                    ],
                    &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                      &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                    },
                    &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                      &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                        &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                        &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                      },
                    },
                    &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                      &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                      &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                    &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                      &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                      &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                        &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                          &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                            &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                          },
                        },
                        &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                        &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                          &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                            &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                            &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                          },
                          &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                          &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                          },
                          &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                            &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          },
                          &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                            &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                          },
                          &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                            &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                          },
                        },
                        &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                          &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                          &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                          &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                        },
                        &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                        &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                        },
                      },
                      &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                        &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                          { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                            &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                          },
                        ],
                        &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                        &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                      },
                      &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                        &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                          &quot;A String&quot;,
                        ],
                        &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                          { # The definition of the Rag resource.
                            &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                            &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                              &quot;A String&quot;,
                            ],
                          },
                        ],
                        &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                          &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                            &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                            &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                          },
                          &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                            &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                          },
                          &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                            &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                            },
                            &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                            },
                          },
                          &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                        },
                        &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                        &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                      },
                    },
                    &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                    },
                  },
                ],
              },
            },
            &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
              { # Represents a single turn/invocation in the conversation.
                &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                  { # Represents a single event in the execution trace.
                    &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                      { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                        &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                        },
                        &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                          &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                          &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                          &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                          &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                          { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                            &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                            &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                              &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                              &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              ],
                              &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                              &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                              &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                &quot;A String&quot;,
                              ],
                              &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                              &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                              &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                              &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                              &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                              &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                              &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                              &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                              &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                              &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                              &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                              &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                              &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                              &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                &quot;A String&quot;,
                              ],
                              &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                              &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                &quot;A String&quot;,
                              ],
                              &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                              &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                            },
                            &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                            &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                              &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                              &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              ],
                              &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                              &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                              &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                &quot;A String&quot;,
                              ],
                              &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                              &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                              &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                              &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                              &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                              &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                              &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                              &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                              &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                              &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                              &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                              &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                              &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                              &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                &quot;A String&quot;,
                              ],
                              &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                              &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                &quot;A String&quot;,
                              ],
                              &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                              &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                            },
                            &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                          },
                        ],
                        &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                          &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                        },
                        &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                          &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                          &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                          &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                            &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                            &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                          },
                        },
                        &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                          &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                          &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                        },
                        &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                          &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                          &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                            &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                              &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                                &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                                &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                              },
                            },
                            &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                            &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                              &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                                &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                                &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                                &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                                &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                              },
                              &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                              &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                              },
                              &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                                &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              },
                              &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                                &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                              },
                              &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                                &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                              },
                            },
                            &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                              &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                              &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                              &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                            },
                            &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                            &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                            },
                          },
                          &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                            &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                              { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                                &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                                &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                              },
                            ],
                            &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                            &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                          },
                          &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                            &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                              &quot;A String&quot;,
                            ],
                            &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                              { # The definition of the Rag resource.
                                &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                                &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                  &quot;A String&quot;,
                                ],
                              },
                            ],
                            &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                              &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                                &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                                &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                                &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                              },
                              &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                                &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                              },
                              &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                                &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                  &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                                },
                                &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                  &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                                },
                              },
                              &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                            },
                            &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                            &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                          },
                        },
                        &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                        },
                      },
                    ],
                    &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                    &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                      &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                        { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                          &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                            &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                            &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                          },
                          &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                            &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                            &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                          },
                          &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                            &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                          &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                            &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                              &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                            },
                            &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                            &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                              { # Partial argument value of the function call.
                                &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                                &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                                &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                                &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                                &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                                &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                              },
                            ],
                            &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                          },
                          &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                            &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                            &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                            &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                              { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                                &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                  &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                },
                                &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                  &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                },
                              },
                            ],
                            &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                              &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                            },
                          },
                          &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                            &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                          &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                            &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                          },
                          &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                          &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                          &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                          &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                            &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                            &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                            &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                          },
                        },
                      ],
                      &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                    },
                    &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                    &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                ],
                &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
                &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
              },
            ],
          },
          &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
          &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
            { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
              &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                  &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                    &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                    &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                  },
                  &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                    &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                    &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                  },
                  &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                    &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                  },
                  &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                    &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                    &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                    &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                    &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                      { # Partial argument value of the function call.
                        &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                        &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                        &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                        &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                        &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                        &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                      },
                    ],
                    &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                  },
                  &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                    &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                    &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                    &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                      { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                        &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                          &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                      },
                    ],
                    &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                    &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                  },
                  &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                    &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                  },
                  &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                  &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                  &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                  &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                    &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                    &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                    &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                  },
                },
              ],
              &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
            },
          ],
          &quot;text&quot;: &quot;A String&quot;, # Text response.
          &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
        },
      ],
      &quot;goldenResponse&quot;: { # Responses from model or agent. # Optional. The Ideal response or ground truth.
        &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
          &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
            &quot;a_key&quot;: { # Represents configuration for an Agent.
              &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
              &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
              &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
              &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
              &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                &quot;A String&quot;,
              ],
              &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                  &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                  },
                  &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                    &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                    &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                    { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                      &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                      &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                      &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                    },
                  ],
                  &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                    &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                  },
                  &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                    &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                      &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                      &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                    },
                  },
                  &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                    &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                    &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                    &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                    &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                      &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                        &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                          &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                        },
                      },
                      &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                      &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                        &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                          &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                          &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                        },
                        &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                        &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                        },
                        &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                          &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                        },
                        &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                          &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                        },
                        &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                          &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                        },
                      },
                      &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                        &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                        &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                        &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                      },
                      &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                      &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                      },
                    },
                    &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                      &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                        { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                          &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                        },
                      ],
                      &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                      &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                      &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                      &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                    },
                    &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                      &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                        &quot;A String&quot;,
                      ],
                      &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                        { # The definition of the Rag resource.
                          &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                          &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                            &quot;A String&quot;,
                          ],
                        },
                      ],
                      &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                        &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                          &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                          &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                        },
                        &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                          &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                        },
                        &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                          &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                          },
                          &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                          },
                        },
                        &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                      },
                      &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                      &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                      &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                    },
                  },
                  &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                  },
                },
              ],
            },
          },
          &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
            { # Represents a single turn/invocation in the conversation.
              &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                { # Represents a single event in the execution trace.
                  &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                    { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                      &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                      },
                      &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                        &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                        &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                        { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                          &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                          &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                        },
                      ],
                      &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                        &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                      },
                      &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                        &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                          &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                          &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                        },
                      },
                      &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                        &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                        &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                        &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                        &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                          &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                            &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                              &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                            },
                          },
                          &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                          &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                            &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                              &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                              &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                              &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                            },
                            &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                            &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                            },
                            &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                              &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            },
                            &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                              &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                            },
                            &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                              &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                            },
                          },
                          &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                            &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                            &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                            &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                          },
                          &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                          &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                          },
                        },
                        &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                          &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                            { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                              &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                              &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                            },
                          ],
                          &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                          &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                        },
                        &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                          &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                            &quot;A String&quot;,
                          ],
                          &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                            { # The definition of the Rag resource.
                              &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                              &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                &quot;A String&quot;,
                              ],
                            },
                          ],
                          &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                            &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                              &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                              &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                              &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                            },
                            &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                              &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                            },
                            &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                              &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                              },
                              &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                              },
                            },
                            &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                          },
                          &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                          &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                        },
                      },
                      &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                      },
                    },
                  ],
                  &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                  &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                    &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                      { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                        &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                          &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                          &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                        },
                        &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                          &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                          &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                        },
                        &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                          &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                          &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                            { # Partial argument value of the function call.
                              &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                              &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                              &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                              &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                              &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                              &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                            },
                          ],
                          &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                        },
                        &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                          &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                            { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                              &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                              &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                            },
                          ],
                          &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                        },
                        &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                          &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                          &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                        },
                        &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                        &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                        &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                        &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                          &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                          &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                          &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                        },
                      },
                    ],
                    &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                  },
                  &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                  &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
              ],
              &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
              &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
            },
          ],
        },
        &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
        &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
          { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
            &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
              { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                  &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                  &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                },
                &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                  &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                  &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                },
                &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                  &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                  &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                    { # Partial argument value of the function call.
                      &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                      &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                      &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                      &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                      &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                      &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                    },
                  ],
                  &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                },
                &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                  &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                  &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                  &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                    { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                      &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                        &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                    },
                  ],
                  &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
                &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                  &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                },
                &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                  &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                },
                &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                  &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                  &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                  &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                },
              },
            ],
            &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
          },
        ],
        &quot;text&quot;: &quot;A String&quot;, # Text response.
        &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
      },
      &quot;prompt&quot;: { # Prompt to be evaluated. This can represent a single-turn prompt or a multi-turn conversation for agent evaluations. # Optional. The request/prompt to evaluate.
        &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This serves as the input context for agent scraping.
          &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
            &quot;a_key&quot;: { # Represents configuration for an Agent.
              &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
              &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
              &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
              &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
              &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                &quot;A String&quot;,
              ],
              &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                  &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                  },
                  &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                    &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                    &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                    { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                      &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                      &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                      &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                      &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                        &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                        &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                          # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        ],
                        &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                        &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                        &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                          &quot;A String&quot;,
                        ],
                        &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                        &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                        &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                        &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                        &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                        &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                        &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                        &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                        &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                        &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                        &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                        &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                        &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                        &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                          &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                        },
                        &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                          &quot;A String&quot;,
                        ],
                        &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                        &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                          &quot;A String&quot;,
                        ],
                        &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                        &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                      },
                      &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                    },
                  ],
                  &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                    &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                  },
                  &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                    &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                    &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                      &quot;A String&quot;,
                    ],
                  },
                  &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                    &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                      &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                      &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                    },
                  },
                  &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                    &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                    &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                    &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                    &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                      &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                        &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                          &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                        },
                      },
                      &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                      &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                        &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                          &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                          &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                        },
                        &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                        &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                        },
                        &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                          &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                        },
                        &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                          &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                        },
                        &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                          &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                          &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                        },
                      },
                      &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                        &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                        &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                        &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                      },
                      &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                      &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                      },
                    },
                    &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                      &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                        { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                          &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                        },
                      ],
                      &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                      &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                      &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                      &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                    },
                    &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                      &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                        &quot;A String&quot;,
                      ],
                      &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                        { # The definition of the Rag resource.
                          &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                          &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                            &quot;A String&quot;,
                          ],
                        },
                      ],
                      &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                        &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                          &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                          &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                        },
                        &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                          &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                        },
                        &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                          &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                          },
                          &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                            &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                          },
                        },
                        &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                      },
                      &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                      &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                      &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                    },
                  },
                  &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                  },
                },
              ],
            },
          },
          &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
            { # Represents a single turn/invocation in the conversation.
              &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                { # Represents a single event in the execution trace.
                  &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                    { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                      &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                      },
                      &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                        &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                        &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                        { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                          &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                          &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                        },
                      ],
                      &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                        &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                      },
                      &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                        &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                          &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                          &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                        },
                      },
                      &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                        &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                        &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                        &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                        &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                          &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                            &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                              &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                            },
                          },
                          &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                          &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                            &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                              &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                              &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                              &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                            },
                            &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                            &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                            },
                            &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                              &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            },
                            &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                              &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                            },
                            &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                              &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                            },
                          },
                          &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                            &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                            &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                            &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                          },
                          &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                          &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                          },
                        },
                        &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                          &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                            { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                              &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                              &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                            },
                          ],
                          &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                          &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                        },
                        &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                          &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                            &quot;A String&quot;,
                          ],
                          &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                            { # The definition of the Rag resource.
                              &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                              &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                &quot;A String&quot;,
                              ],
                            },
                          ],
                          &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                            &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                              &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                              &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                              &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                            },
                            &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                              &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                            },
                            &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                              &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                              },
                              &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                              },
                            },
                            &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                          },
                          &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                          &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                        },
                      },
                      &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                      },
                    },
                  ],
                  &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                  &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                    &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                      { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                        &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                          &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                          &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                        },
                        &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                          &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                          &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                        },
                        &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                          &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                          &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                            { # Partial argument value of the function call.
                              &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                              &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                              &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                              &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                              &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                              &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                            },
                          ],
                          &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                        },
                        &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                          &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                          &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                            { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                              &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                              &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                            },
                          ],
                          &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                        },
                        &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                          &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                          &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                        },
                        &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                        &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                        &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                        &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                          &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                          &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                          &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                        },
                      },
                    ],
                    &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                  },
                  &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                  &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                    &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                  },
                },
              ],
              &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
              &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
            },
          ],
        },
        &quot;promptTemplateData&quot;: { # Message to hold a prompt template and the values to populate the template. # Prompt template data.
          &quot;values&quot;: { # The values for fields in the prompt template.
            &quot;a_key&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
              &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                  &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                    &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                    &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                  },
                  &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                    &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                    &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                  },
                  &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                    &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                  },
                  &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                    &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                    &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                    &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                    &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                      { # Partial argument value of the function call.
                        &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                        &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                        &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                        &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                        &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                        &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                      },
                    ],
                    &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                  },
                  &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                    &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                    &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                    &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                      { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                        &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                          &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                      },
                    ],
                    &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                    &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                  },
                  &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                    &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                  },
                  &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                  &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                  &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                  &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                    &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                    &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                    &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                  },
                },
              ],
              &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
            },
          },
        },
        &quot;text&quot;: &quot;A String&quot;, # Text prompt.
        &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the prompt template.
      },
      &quot;rubrics&quot;: { # Optional. Named groups of rubrics associated with this prompt. The key is a user-defined name for the rubric group.
        &quot;a_key&quot;: { # A group of rubrics, used for grouping rubrics based on a metric or a version.
          &quot;displayName&quot;: &quot;A String&quot;, # Human-readable name for the group. This should be unique within a given context if used for display or selection. Example: &quot;Instruction Following V1&quot;, &quot;Content Quality - Summarization Task&quot;.
          &quot;groupId&quot;: &quot;A String&quot;, # Unique identifier for the group.
          &quot;rubrics&quot;: [ # Rubrics that are part of this group.
            { # Message representing a single testable criterion for evaluation. One input prompt could have multiple rubrics.
              &quot;content&quot;: { # Content of the rubric, defining the testable criteria. # Required. The actual testable criteria for the rubric.
                &quot;property&quot;: { # Defines criteria based on a specific property. # Evaluation criteria based on a specific property.
                  &quot;description&quot;: &quot;A String&quot;, # Description of the property being evaluated. Example: &quot;The model&#x27;s response is grammatically correct.&quot;
                },
              },
              &quot;importance&quot;: &quot;A String&quot;, # Optional. The relative importance of this rubric.
              &quot;rubricId&quot;: &quot;A String&quot;, # Unique identifier for the rubric. This ID is used to refer to this rubric, e.g., in RubricVerdict.
              &quot;type&quot;: &quot;A String&quot;, # Optional. A type designator for the rubric, which can inform how it&#x27;s evaluated or interpreted by systems or users. It&#x27;s recommended to use consistent, well-defined, upper snake_case strings. Examples: &quot;SUMMARIZATION_QUALITY&quot;, &quot;SAFETY_HARMFUL_CONTENT&quot;, &quot;INSTRUCTION_ADHERENCE&quot;.
            },
          ],
        },
      },
    },
  },
  &quot;gcsUri&quot;: &quot;A String&quot;, # The Cloud Storage object where the request or response is stored.
  &quot;labels&quot;: { # Optional. Labels for the EvaluationItem.
    &quot;a_key&quot;: &quot;A String&quot;,
  },
  &quot;metadata&quot;: &quot;&quot;, # Optional. Metadata for the EvaluationItem.
  &quot;name&quot;: &quot;A String&quot;, # Identifier. The resource name of the EvaluationItem. Format: `projects/{project}/locations/{location}/evaluationItems/{evaluation_item}`
}</pre>
</div>

<div class="method">
    <code class="details" id="list">list(parent, filter=None, orderBy=None, pageSize=None, pageToken=None, x__xgafv=None)</code>
  <pre>Lists Evaluation Items.

Args:
  parent: string, Required. The resource name of the Location from which to list the Evaluation Items. Format: `projects/{project}/locations/{location}` (required)
  filter: string, Optional. Filter expression that matches a subset of the EvaluationItems to show. For field names both snake_case and camelCase are supported. For more information about filter syntax, see [AIP-160](https://google.aip.dev/160).
  orderBy: string, Optional. A comma-separated list of fields to order by, sorted in ascending order by default. Use `desc` after a field name for descending.
  pageSize: integer, Optional. The maximum number of Evaluation Items to return.
  pageToken: string, Optional. A page token, received from a previous `ListEvaluationItems` call. Provide this to retrieve the subsequent page.
  x__xgafv: string, V1 error format.
    Allowed values
      1 - v1 error format
      2 - v2 error format

Returns:
  An object of the form:

    { # Response message for EvaluationManagementService.ListEvaluationItems.
  &quot;evaluationItems&quot;: [ # List of EvaluationItems in the requested page.
    { # EvaluationItem is a single evaluation request or result. The content of an EvaluationItem is immutable - it cannot be updated once created. EvaluationItems can be deleted when no longer needed.
      &quot;createTime&quot;: &quot;A String&quot;, # Output only. Timestamp when this item was created.
      &quot;displayName&quot;: &quot;A String&quot;, # Required. The display name of the EvaluationItem.
      &quot;error&quot;: { # The `Status` type defines a logical error model that is suitable for different programming environments, including REST APIs and RPC APIs. It is used by [gRPC](https://github.com/grpc). Each `Status` message contains three pieces of data: error code, error message, and error details. You can find out more about this error model and how to work with it in the [API Design Guide](https://cloud.google.com/apis/design/errors). # Output only. Error for the evaluation item.
        &quot;code&quot;: 42, # The status code, which should be an enum value of google.rpc.Code.
        &quot;details&quot;: [ # A list of messages that carry the error details. There is a common set of message types for APIs to use.
          {
            &quot;a_key&quot;: &quot;&quot;, # Properties of the object. Contains field @type with type URL.
          },
        ],
        &quot;message&quot;: &quot;A String&quot;, # A developer-facing error message, which should be in English. Any user-facing error message should be localized and sent in the google.rpc.Status.details field, or localized by the client.
      },
      &quot;evaluationItemType&quot;: &quot;A String&quot;, # Required. The type of the EvaluationItem.
      &quot;evaluationRequest&quot;: { # A single evaluation request supporting input for both single-turn model generation and multi-turn agent execution traces. Valid input modes: 1. Inference Mode: `prompt` is set (containing text or AgentData context). 2. Offline Eval Mode: `prompt` is unset, and `candidate_responses` contains `agent_data` (the completed execution trace). Validation Rule: Either `prompt` must be set, OR at least one of the `candidate_responses` must contain `agent_data`. # The request to evaluate.
        &quot;candidateResponses&quot;: [ # Optional. Responses from model under test and other baseline models for comparison.
          { # Responses from model or agent.
            &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
              &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
                &quot;a_key&quot;: { # Represents configuration for an Agent.
                  &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
                  &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
                  &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
                  &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
                  &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                    &quot;A String&quot;,
                  ],
                  &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                    { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                      &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                      },
                      &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                        &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                        &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                        { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                          &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                          &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                        },
                      ],
                      &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                        &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                      },
                      &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                        &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                          &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                          &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                        },
                      },
                      &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                        &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                        &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                        &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                        &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                          &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                            &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                              &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                            },
                          },
                          &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                          &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                            &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                              &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                              &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                              &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                            },
                            &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                            &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                            },
                            &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                              &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            },
                            &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                              &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                            },
                            &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                              &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                            },
                          },
                          &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                            &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                            &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                            &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                          },
                          &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                          &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                          },
                        },
                        &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                          &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                            { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                              &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                              &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                            },
                          ],
                          &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                          &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                        },
                        &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                          &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                            &quot;A String&quot;,
                          ],
                          &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                            { # The definition of the Rag resource.
                              &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                              &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                &quot;A String&quot;,
                              ],
                            },
                          ],
                          &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                            &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                              &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                              &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                              &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                            },
                            &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                              &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                            },
                            &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                              &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                              },
                              &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                              },
                            },
                            &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                          },
                          &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                          &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                        },
                      },
                      &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                      },
                    },
                  ],
                },
              },
              &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
                { # Represents a single turn/invocation in the conversation.
                  &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                    { # Represents a single event in the execution trace.
                      &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                        { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                          &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                          },
                          &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                            &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                            &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                              &quot;A String&quot;,
                            ],
                          },
                          &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                            &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                            &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                              &quot;A String&quot;,
                            ],
                          },
                          &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                            { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                              &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                              &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                              &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                                &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                                &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                  # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                ],
                                &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                                &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                  &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                },
                                &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                                &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                  &quot;A String&quot;,
                                ],
                                &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                                &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                                &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                                &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                                &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                                &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                                &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                                &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                                &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                                &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                                &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                                &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                                &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                                &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                  &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                },
                                &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                  &quot;A String&quot;,
                                ],
                                &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                                &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                  &quot;A String&quot;,
                                ],
                                &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                                &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                              },
                              &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                              &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                                &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                                &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                  # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                ],
                                &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                                &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                  &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                },
                                &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                                &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                  &quot;A String&quot;,
                                ],
                                &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                                &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                                &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                                &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                                &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                                &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                                &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                                &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                                &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                                &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                                &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                                &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                                &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                                &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                  &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                },
                                &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                  &quot;A String&quot;,
                                ],
                                &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                                &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                  &quot;A String&quot;,
                                ],
                                &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                                &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                              },
                              &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                            },
                          ],
                          &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                            &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                          },
                          &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                            &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                            &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                              &quot;A String&quot;,
                            ],
                          },
                          &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                            &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                              &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                              &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                            },
                          },
                          &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                            &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                            &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                              &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                            },
                          },
                          &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                            &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                            &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                              &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                                &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                                  &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                                  &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                                },
                              },
                              &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                              &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                                &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                                  &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                                  &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                                  &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                                  &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                                },
                                &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                                &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                                  &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                                },
                                &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                                  &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                                },
                                &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                                  &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                  &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                                },
                                &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                                  &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                  &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                                },
                              },
                              &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                                &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                                &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                                &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                              },
                              &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                              &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                              },
                            },
                            &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                              &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                                { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                                  &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                                  &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                                },
                              ],
                              &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                              &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                              &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                              &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                            },
                            &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                              &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                                &quot;A String&quot;,
                              ],
                              &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                                { # The definition of the Rag resource.
                                  &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                                  &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                    &quot;A String&quot;,
                                  ],
                                },
                              ],
                              &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                                &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                                  &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                                  &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                                  &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                                },
                                &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                                  &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                                },
                                &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                                  &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                    &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                                  },
                                  &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                    &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                                  },
                                },
                                &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                              },
                              &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                              &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                              &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                            },
                          },
                          &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                          },
                        },
                      ],
                      &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                      &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                        &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                          { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                            &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                              &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                              &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                            },
                            &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                              &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                              &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                            },
                            &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                              &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                            &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                              &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                                &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                              },
                              &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                              &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                              &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                                { # Partial argument value of the function call.
                                  &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                                  &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                                  &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                                  &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                                  &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                                  &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                                },
                              ],
                              &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                            },
                            &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                              &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                              &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                              &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                                { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                                  &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                    &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                  },
                                  &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                    &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                  },
                                },
                              ],
                              &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                                &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                              },
                            },
                            &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                              &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                            &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                              &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                            },
                            &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                            &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                            &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                            &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                              &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                              &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                              &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                            },
                          },
                        ],
                        &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                      },
                      &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                      &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                  ],
                  &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
                  &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
                },
              ],
            },
            &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
            &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
              { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
                &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                  { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                    &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                      &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                      &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                    },
                    &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                      &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                      &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                    },
                    &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                      &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                      &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                      &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                    },
                    &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                      &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                      &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                      &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                      &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                        { # Partial argument value of the function call.
                          &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                          &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                          &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                          &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                          &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                          &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                        },
                      ],
                      &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                    },
                    &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                      &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                      &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                      &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                        { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                          &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                            &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                          &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                            &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                        },
                      ],
                      &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                    &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                      &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                      &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                      &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                    },
                    &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                      &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                    },
                    &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                    &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                    &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                    &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                      &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                      &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                      &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                    },
                  },
                ],
                &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
              },
            ],
            &quot;text&quot;: &quot;A String&quot;, # Text response.
            &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
          },
        ],
        &quot;goldenResponse&quot;: { # Responses from model or agent. # Optional. The Ideal response or ground truth.
          &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
            &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
              &quot;a_key&quot;: { # Represents configuration for an Agent.
                &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
                &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
                &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
                &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
                &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                  &quot;A String&quot;,
                ],
                &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                  { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                    &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                    },
                    &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                      &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                      &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                      { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                        &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                        &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                      },
                    ],
                    &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                      &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                    },
                    &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                      &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                        &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                        &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                      },
                    },
                    &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                      &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                      &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                    &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                      &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                      &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                        &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                          &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                            &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                          },
                        },
                        &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                        &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                          &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                            &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                            &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                          },
                          &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                          &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                          },
                          &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                            &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          },
                          &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                            &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                          },
                          &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                            &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                          },
                        },
                        &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                          &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                          &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                          &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                        },
                        &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                        &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                        },
                      },
                      &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                        &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                          { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                            &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                          },
                        ],
                        &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                        &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                      },
                      &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                        &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                          &quot;A String&quot;,
                        ],
                        &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                          { # The definition of the Rag resource.
                            &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                            &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                              &quot;A String&quot;,
                            ],
                          },
                        ],
                        &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                          &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                            &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                            &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                          },
                          &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                            &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                          },
                          &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                            &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                            },
                            &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                            },
                          },
                          &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                        },
                        &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                        &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                      },
                    },
                    &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                    },
                  },
                ],
              },
            },
            &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
              { # Represents a single turn/invocation in the conversation.
                &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                  { # Represents a single event in the execution trace.
                    &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                      { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                        &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                        },
                        &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                          &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                          &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                          &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                          &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                          { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                            &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                            &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                              &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                              &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              ],
                              &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                              &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                              &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                &quot;A String&quot;,
                              ],
                              &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                              &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                              &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                              &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                              &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                              &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                              &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                              &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                              &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                              &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                              &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                              &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                              &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                              &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                &quot;A String&quot;,
                              ],
                              &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                              &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                &quot;A String&quot;,
                              ],
                              &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                              &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                            },
                            &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                            &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                              &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                              &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              ],
                              &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                              &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                              &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                &quot;A String&quot;,
                              ],
                              &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                              &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                              &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                              &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                              &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                              &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                              &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                              &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                              &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                              &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                              &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                              &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                              &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                              &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                &quot;A String&quot;,
                              ],
                              &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                              &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                &quot;A String&quot;,
                              ],
                              &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                              &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                            },
                            &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                          },
                        ],
                        &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                          &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                        },
                        &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                          &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                          &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                          &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                            &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                            &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                          },
                        },
                        &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                          &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                          &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                        },
                        &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                          &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                          &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                            &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                              &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                                &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                                &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                              },
                            },
                            &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                            &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                              &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                                &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                                &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                                &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                                &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                              },
                              &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                              &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                              },
                              &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                                &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              },
                              &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                                &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                              },
                              &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                                &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                              },
                            },
                            &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                              &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                              &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                              &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                            },
                            &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                            &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                            },
                          },
                          &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                            &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                              { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                                &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                                &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                              },
                            ],
                            &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                            &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                          },
                          &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                            &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                              &quot;A String&quot;,
                            ],
                            &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                              { # The definition of the Rag resource.
                                &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                                &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                  &quot;A String&quot;,
                                ],
                              },
                            ],
                            &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                              &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                                &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                                &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                                &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                              },
                              &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                                &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                              },
                              &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                                &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                  &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                                },
                                &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                  &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                                },
                              },
                              &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                            },
                            &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                            &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                          },
                        },
                        &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                        },
                      },
                    ],
                    &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                    &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                      &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                        { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                          &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                            &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                            &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                          },
                          &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                            &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                            &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                          },
                          &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                            &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                          &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                            &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                              &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                            },
                            &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                            &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                              { # Partial argument value of the function call.
                                &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                                &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                                &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                                &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                                &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                                &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                              },
                            ],
                            &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                          },
                          &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                            &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                            &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                            &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                              { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                                &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                  &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                },
                                &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                  &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                },
                              },
                            ],
                            &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                              &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                            },
                          },
                          &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                            &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                          &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                            &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                          },
                          &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                          &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                          &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                          &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                            &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                            &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                            &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                          },
                        },
                      ],
                      &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                    },
                    &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                    &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                ],
                &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
                &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
              },
            ],
          },
          &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
          &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
            { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
              &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                  &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                    &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                    &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                  },
                  &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                    &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                    &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                  },
                  &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                    &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                  },
                  &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                    &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                    &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                    &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                    &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                      { # Partial argument value of the function call.
                        &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                        &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                        &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                        &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                        &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                        &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                      },
                    ],
                    &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                  },
                  &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                    &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                    &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                    &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                      { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                        &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                          &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                        &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                          &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                          &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                          &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                        },
                      },
                    ],
                    &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                  &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                    &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                  },
                  &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                    &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                  },
                  &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                  &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                  &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                  &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                    &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                    &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                    &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                  },
                },
              ],
              &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
            },
          ],
          &quot;text&quot;: &quot;A String&quot;, # Text response.
          &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
        },
        &quot;prompt&quot;: { # Prompt to be evaluated. This can represent a single-turn prompt or a multi-turn conversation for agent evaluations. # Optional. The request/prompt to evaluate.
          &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This serves as the input context for agent scraping.
            &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
              &quot;a_key&quot;: { # Represents configuration for an Agent.
                &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
                &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
                &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
                &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
                &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                  &quot;A String&quot;,
                ],
                &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                  { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                    &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                    },
                    &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                      &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                      &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                      { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                        &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                        &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                        &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                          &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                          &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                            # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          ],
                          &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                          &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                          &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                            &quot;A String&quot;,
                          ],
                          &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                          &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                          &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                          &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                          &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                          &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                          &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                          &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                          &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                          &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                          &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                          &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                          &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                          &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                            &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                          },
                          &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                            &quot;A String&quot;,
                          ],
                          &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                          &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                            &quot;A String&quot;,
                          ],
                          &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                          &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                        },
                        &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                      },
                    ],
                    &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                      &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                    },
                    &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                      &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                      &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                        &quot;A String&quot;,
                      ],
                    },
                    &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                      &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                        &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                        &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                      },
                    },
                    &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                      &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                      &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                    &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                      &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                      &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                        &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                          &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                            &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                          },
                        },
                        &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                        &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                          &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                            &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                            &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                          },
                          &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                          &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                          },
                          &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                            &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                          },
                          &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                            &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                          },
                          &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                            &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                            &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                          },
                        },
                        &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                          &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                          &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                          &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                        },
                        &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                        &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                        },
                      },
                      &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                        &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                          { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                            &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                          },
                        ],
                        &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                        &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                        &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                        &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                      },
                      &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                        &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                          &quot;A String&quot;,
                        ],
                        &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                          { # The definition of the Rag resource.
                            &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                            &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                              &quot;A String&quot;,
                            ],
                          },
                        ],
                        &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                          &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                            &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                            &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                          },
                          &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                            &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                          },
                          &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                            &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                            },
                            &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                              &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                            },
                          },
                          &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                        },
                        &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                        &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                        &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                      },
                    },
                    &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                    },
                  },
                ],
              },
            },
            &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
              { # Represents a single turn/invocation in the conversation.
                &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                  { # Represents a single event in the execution trace.
                    &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                      { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                        &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                        },
                        &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                          &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                          &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                          &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                          &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                          { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                            &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                            &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                              &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                              &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              ],
                              &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                              &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                              &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                &quot;A String&quot;,
                              ],
                              &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                              &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                              &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                              &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                              &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                              &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                              &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                              &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                              &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                              &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                              &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                              &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                              &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                              &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                &quot;A String&quot;,
                              ],
                              &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                              &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                &quot;A String&quot;,
                              ],
                              &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                              &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                            },
                            &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                            &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                              &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                              &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              ],
                              &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                              &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                              &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                &quot;A String&quot;,
                              ],
                              &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                              &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                              &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                              &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                              &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                              &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                              &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                              &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                              &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                              &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                              &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                              &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                              &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                              &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                &quot;A String&quot;,
                              ],
                              &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                              &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                &quot;A String&quot;,
                              ],
                              &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                              &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                            },
                            &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                          },
                        ],
                        &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                          &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                        },
                        &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                          &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                          &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                          &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                            &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                            &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                          },
                        },
                        &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                          &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                          &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                        },
                        &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                          &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                          &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                            &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                              &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                                &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                                &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                              },
                            },
                            &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                            &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                              &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                                &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                                &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                                &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                                &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                              },
                              &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                              &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                              },
                              &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                                &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              },
                              &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                                &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                              },
                              &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                                &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                              },
                            },
                            &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                              &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                              &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                              &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                            },
                            &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                            &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                            },
                          },
                          &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                            &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                              { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                                &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                                &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                              },
                            ],
                            &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                            &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                          },
                          &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                            &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                              &quot;A String&quot;,
                            ],
                            &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                              { # The definition of the Rag resource.
                                &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                                &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                  &quot;A String&quot;,
                                ],
                              },
                            ],
                            &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                              &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                                &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                                &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                                &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                              },
                              &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                                &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                              },
                              &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                                &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                  &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                                },
                                &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                  &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                                },
                              },
                              &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                            },
                            &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                            &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                          },
                        },
                        &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                        },
                      },
                    ],
                    &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                    &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                      &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                        { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                          &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                            &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                            &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                          },
                          &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                            &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                            &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                          },
                          &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                            &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                          &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                            &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                              &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                            },
                            &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                            &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                            &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                              { # Partial argument value of the function call.
                                &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                                &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                                &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                                &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                                &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                                &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                              },
                            ],
                            &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                          },
                          &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                            &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                            &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                            &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                              { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                                &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                  &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                },
                                &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                  &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                  &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                  &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                },
                              },
                            ],
                            &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                              &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                            },
                          },
                          &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                            &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                          &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                            &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                          },
                          &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                          &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                          &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                          &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                            &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                            &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                            &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                          },
                        },
                      ],
                      &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                    },
                    &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                    &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                      &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                    },
                  },
                ],
                &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
                &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
              },
            ],
          },
          &quot;promptTemplateData&quot;: { # Message to hold a prompt template and the values to populate the template. # Prompt template data.
            &quot;values&quot;: { # The values for fields in the prompt template.
              &quot;a_key&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
                &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                  { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                    &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                      &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                      &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                    },
                    &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                      &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                      &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                    },
                    &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                      &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                      &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                      &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                    },
                    &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                      &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                      &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                      &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                      &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                        { # Partial argument value of the function call.
                          &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                          &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                          &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                          &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                          &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                          &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                        },
                      ],
                      &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                    },
                    &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                      &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                      &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                      &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                        { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                          &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                            &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                          &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                            &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                        },
                      ],
                      &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                    &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                      &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                      &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                      &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                    },
                    &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                      &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                    },
                    &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                    &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                    &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                    &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                      &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                      &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                      &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                    },
                  },
                ],
                &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
              },
            },
          },
          &quot;text&quot;: &quot;A String&quot;, # Text prompt.
          &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the prompt template.
        },
        &quot;rubrics&quot;: { # Optional. Named groups of rubrics associated with this prompt. The key is a user-defined name for the rubric group.
          &quot;a_key&quot;: { # A group of rubrics, used for grouping rubrics based on a metric or a version.
            &quot;displayName&quot;: &quot;A String&quot;, # Human-readable name for the group. This should be unique within a given context if used for display or selection. Example: &quot;Instruction Following V1&quot;, &quot;Content Quality - Summarization Task&quot;.
            &quot;groupId&quot;: &quot;A String&quot;, # Unique identifier for the group.
            &quot;rubrics&quot;: [ # Rubrics that are part of this group.
              { # Message representing a single testable criterion for evaluation. One input prompt could have multiple rubrics.
                &quot;content&quot;: { # Content of the rubric, defining the testable criteria. # Required. The actual testable criteria for the rubric.
                  &quot;property&quot;: { # Defines criteria based on a specific property. # Evaluation criteria based on a specific property.
                    &quot;description&quot;: &quot;A String&quot;, # Description of the property being evaluated. Example: &quot;The model&#x27;s response is grammatically correct.&quot;
                  },
                },
                &quot;importance&quot;: &quot;A String&quot;, # Optional. The relative importance of this rubric.
                &quot;rubricId&quot;: &quot;A String&quot;, # Unique identifier for the rubric. This ID is used to refer to this rubric, e.g., in RubricVerdict.
                &quot;type&quot;: &quot;A String&quot;, # Optional. A type designator for the rubric, which can inform how it&#x27;s evaluated or interpreted by systems or users. It&#x27;s recommended to use consistent, well-defined, upper snake_case strings. Examples: &quot;SUMMARIZATION_QUALITY&quot;, &quot;SAFETY_HARMFUL_CONTENT&quot;, &quot;INSTRUCTION_ADHERENCE&quot;.
              },
            ],
          },
        },
      },
      &quot;evaluationResponse&quot;: { # Evaluation result. # Output only. The response from evaluation.
        &quot;candidateResults&quot;: [ # Optional. The results for the metric.
          { # Result for a single candidate.
            &quot;additionalResults&quot;: &quot;&quot;, # Optional. Additional results for the metric.
            &quot;candidate&quot;: &quot;A String&quot;, # Required. The candidate that is being evaluated. The value is the same as the candidate name in the EvaluationRequest.
            &quot;explanation&quot;: &quot;A String&quot;, # Optional. The explanation for the metric.
            &quot;metric&quot;: &quot;A String&quot;, # Required. The metric that was evaluated.
            &quot;rubricVerdicts&quot;: [ # Optional. The rubric verdicts for the metric.
              { # Represents the verdict of an evaluation against a single rubric.
                &quot;evaluatedRubric&quot;: { # Message representing a single testable criterion for evaluation. One input prompt could have multiple rubrics. # Required. The full rubric definition that was evaluated. Storing this ensures the verdict is self-contained and understandable, especially if the original rubric definition changes or was dynamically generated.
                  &quot;content&quot;: { # Content of the rubric, defining the testable criteria. # Required. The actual testable criteria for the rubric.
                    &quot;property&quot;: { # Defines criteria based on a specific property. # Evaluation criteria based on a specific property.
                      &quot;description&quot;: &quot;A String&quot;, # Description of the property being evaluated. Example: &quot;The model&#x27;s response is grammatically correct.&quot;
                    },
                  },
                  &quot;importance&quot;: &quot;A String&quot;, # Optional. The relative importance of this rubric.
                  &quot;rubricId&quot;: &quot;A String&quot;, # Unique identifier for the rubric. This ID is used to refer to this rubric, e.g., in RubricVerdict.
                  &quot;type&quot;: &quot;A String&quot;, # Optional. A type designator for the rubric, which can inform how it&#x27;s evaluated or interpreted by systems or users. It&#x27;s recommended to use consistent, well-defined, upper snake_case strings. Examples: &quot;SUMMARIZATION_QUALITY&quot;, &quot;SAFETY_HARMFUL_CONTENT&quot;, &quot;INSTRUCTION_ADHERENCE&quot;.
                },
                &quot;reasoning&quot;: &quot;A String&quot;, # Optional. Human-readable reasoning or explanation for the verdict. This can include specific examples or details from the evaluated content that justify the given verdict.
                &quot;verdict&quot;: True or False, # Required. Outcome of the evaluation against the rubric, represented as a boolean. `true` indicates a &quot;Pass&quot;, `false` indicates a &quot;Fail&quot;.
              },
            ],
            &quot;score&quot;: 3.14, # Optional. The score for the metric.
          },
        ],
        &quot;evaluationRequest&quot;: &quot;A String&quot;, # Required. The request item that was evaluated. Format: projects/{project}/locations/{location}/evaluationItems/{evaluation_item}
        &quot;evaluationRun&quot;: &quot;A String&quot;, # Required. The evaluation run that was used to generate the result. Format: projects/{project}/locations/{location}/evaluationRuns/{evaluation_run}
        &quot;metadata&quot;: &quot;&quot;, # Optional. Metadata about the evaluation result.
        &quot;metric&quot;: &quot;A String&quot;, # Required. The metric that was evaluated.
        &quot;request&quot;: { # A single evaluation request supporting input for both single-turn model generation and multi-turn agent execution traces. Valid input modes: 1. Inference Mode: `prompt` is set (containing text or AgentData context). 2. Offline Eval Mode: `prompt` is unset, and `candidate_responses` contains `agent_data` (the completed execution trace). Validation Rule: Either `prompt` must be set, OR at least one of the `candidate_responses` must contain `agent_data`. # Required. The request that was evaluated.
          &quot;candidateResponses&quot;: [ # Optional. Responses from model under test and other baseline models for comparison.
            { # Responses from model or agent.
              &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
                &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
                  &quot;a_key&quot;: { # Represents configuration for an Agent.
                    &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
                    &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
                    &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
                    &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
                    &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                      &quot;A String&quot;,
                    ],
                    &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                      { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                        &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                        },
                        &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                          &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                          &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                          &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                          &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                          { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                            &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                            &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                              &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                              &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              ],
                              &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                              &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                              &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                &quot;A String&quot;,
                              ],
                              &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                              &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                              &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                              &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                              &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                              &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                              &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                              &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                              &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                              &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                              &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                              &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                              &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                              &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                &quot;A String&quot;,
                              ],
                              &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                              &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                &quot;A String&quot;,
                              ],
                              &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                              &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                            },
                            &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                            &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                              &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                              &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              ],
                              &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                              &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                              &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                &quot;A String&quot;,
                              ],
                              &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                              &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                              &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                              &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                              &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                              &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                              &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                              &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                              &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                              &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                              &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                              &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                              &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                              &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                              },
                              &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                &quot;A String&quot;,
                              ],
                              &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                              &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                &quot;A String&quot;,
                              ],
                              &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                              &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                            },
                            &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                          },
                        ],
                        &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                          &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                        },
                        &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                          &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                          &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                            &quot;A String&quot;,
                          ],
                        },
                        &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                          &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                            &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                            &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                          },
                        },
                        &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                          &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                          &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                            &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                          },
                        },
                        &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                          &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                          &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                            &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                              &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                                &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                                &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                              },
                            },
                            &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                            &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                              &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                                &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                                &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                                &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                                &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                              },
                              &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                              &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                              },
                              &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                                &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              },
                              &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                                &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                              },
                              &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                                &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                              },
                            },
                            &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                              &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                              &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                              &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                            },
                            &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                            &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                            },
                          },
                          &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                            &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                              { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                                &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                                &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                              },
                            ],
                            &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                            &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                            &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                            &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                          },
                          &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                            &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                              &quot;A String&quot;,
                            ],
                            &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                              { # The definition of the Rag resource.
                                &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                                &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                  &quot;A String&quot;,
                                ],
                              },
                            ],
                            &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                              &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                                &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                                &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                                &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                              },
                              &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                                &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                              },
                              &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                                &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                  &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                                },
                                &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                  &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                                },
                              },
                              &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                            },
                            &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                            &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                            &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                          },
                        },
                        &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                        },
                      },
                    ],
                  },
                },
                &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
                  { # Represents a single turn/invocation in the conversation.
                    &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                      { # Represents a single event in the execution trace.
                        &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                          { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                            &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                            },
                            &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                              &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                              &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                                &quot;A String&quot;,
                              ],
                            },
                            &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                              &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                              &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                                &quot;A String&quot;,
                              ],
                            },
                            &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                              { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                                &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                                &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                                &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                                  &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                                  &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                    # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                  ],
                                  &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                                  &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                    &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                  },
                                  &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                                  &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                    &quot;A String&quot;,
                                  ],
                                  &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                                  &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                                  &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                                  &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                                  &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                                  &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                                  &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                                  &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                                  &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                                  &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                                  &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                                  &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                                  &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                                  &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                    &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                  },
                                  &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                    &quot;A String&quot;,
                                  ],
                                  &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                                  &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                    &quot;A String&quot;,
                                  ],
                                  &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                                  &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                                },
                                &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                                &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                                  &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                                  &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                    # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                  ],
                                  &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                                  &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                    &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                  },
                                  &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                                  &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                    &quot;A String&quot;,
                                  ],
                                  &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                                  &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                                  &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                                  &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                                  &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                                  &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                                  &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                                  &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                                  &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                                  &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                                  &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                                  &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                                  &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                                  &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                    &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                  },
                                  &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                    &quot;A String&quot;,
                                  ],
                                  &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                                  &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                    &quot;A String&quot;,
                                  ],
                                  &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                                  &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                                },
                                &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                              },
                            ],
                            &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                              &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                            },
                            &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                              &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                              &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                                &quot;A String&quot;,
                              ],
                            },
                            &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                              &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                                &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                                &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                              },
                            },
                            &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                              &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                              &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                                &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                              },
                            },
                            &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                              &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                              &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                                &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                                  &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                                    &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                                    &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                                  },
                                },
                                &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                                &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                                  &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                                    &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                                    &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                                    &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                                    &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                                  },
                                  &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                                  &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                                    &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                                  },
                                  &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                                    &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                                  },
                                  &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                                    &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                    &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                                  },
                                  &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                                    &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                    &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                                  },
                                },
                                &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                                  &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                                  &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                                  &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                                },
                                &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                                &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                                },
                              },
                              &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                                &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                                  { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                                    &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                                    &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                                  },
                                ],
                                &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                                &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                                &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                                &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                              },
                              &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                                &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                                  &quot;A String&quot;,
                                ],
                                &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                                  { # The definition of the Rag resource.
                                    &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                                    &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                      &quot;A String&quot;,
                                    ],
                                  },
                                ],
                                &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                                  &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                                    &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                                    &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                                    &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                                  },
                                  &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                                    &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                                  },
                                  &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                                    &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                      &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                                    },
                                    &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                      &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                                    },
                                  },
                                  &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                                },
                                &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                                &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                                &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                              },
                            },
                            &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                            },
                          },
                        ],
                        &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                        &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                          &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                            { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                              &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                                &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                                &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                              },
                              &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                                &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                                &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                              },
                              &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                                &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                              &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                                &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                                  &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                                },
                                &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                                &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                                &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                                  { # Partial argument value of the function call.
                                    &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                                    &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                                    &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                                    &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                                    &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                                    &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                                  },
                                ],
                                &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                              },
                              &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                                &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                                &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                                &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                                  { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                                    &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                      &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                      &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                      &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                    },
                                    &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                      &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                      &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                      &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                    },
                                  },
                                ],
                                &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                                  &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                                },
                              },
                              &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                                &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                                &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                                &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                              },
                              &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                                &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                              },
                              &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                              &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                              &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                              &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                                &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                                &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                                &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                              },
                            },
                          ],
                          &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                        },
                        &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                        &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                    ],
                    &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
                    &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
                  },
                ],
              },
              &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
              &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
                { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
                  &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                    { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                      &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                        &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                        &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                      },
                      &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                        &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                        &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                      },
                      &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                        &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                        &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                          { # Partial argument value of the function call.
                            &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                            &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                            &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                            &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                            &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                            &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                          },
                        ],
                        &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                      },
                      &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                        &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                          { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                            &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                            &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                              &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                          },
                        ],
                        &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                        &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                        &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                      },
                      &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                      &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                      &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                      &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                        &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                        &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                        &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                      },
                    },
                  ],
                  &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                },
              ],
              &quot;text&quot;: &quot;A String&quot;, # Text response.
              &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
            },
          ],
          &quot;goldenResponse&quot;: { # Responses from model or agent. # Optional. The Ideal response or ground truth.
            &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This field is used to provide the full output of an agent&#x27;s run, including all turns and events, for direct evaluation.
              &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
                &quot;a_key&quot;: { # Represents configuration for an Agent.
                  &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
                  &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
                  &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
                  &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
                  &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                    &quot;A String&quot;,
                  ],
                  &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                    { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                      &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                      },
                      &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                        &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                        &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                        { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                          &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                          &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                        },
                      ],
                      &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                        &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                      },
                      &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                        &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                          &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                          &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                        },
                      },
                      &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                        &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                        &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                        &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                        &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                          &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                            &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                              &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                            },
                          },
                          &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                          &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                            &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                              &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                              &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                              &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                            },
                            &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                            &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                            },
                            &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                              &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            },
                            &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                              &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                            },
                            &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                              &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                            },
                          },
                          &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                            &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                            &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                            &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                          },
                          &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                          &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                          },
                        },
                        &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                          &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                            { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                              &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                              &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                            },
                          ],
                          &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                          &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                        },
                        &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                          &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                            &quot;A String&quot;,
                          ],
                          &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                            { # The definition of the Rag resource.
                              &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                              &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                &quot;A String&quot;,
                              ],
                            },
                          ],
                          &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                            &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                              &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                              &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                              &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                            },
                            &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                              &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                            },
                            &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                              &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                              },
                              &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                              },
                            },
                            &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                          },
                          &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                          &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                        },
                      },
                      &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                      },
                    },
                  ],
                },
              },
              &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
                { # Represents a single turn/invocation in the conversation.
                  &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                    { # Represents a single event in the execution trace.
                      &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                        { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                          &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                          },
                          &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                            &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                            &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                              &quot;A String&quot;,
                            ],
                          },
                          &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                            &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                            &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                              &quot;A String&quot;,
                            ],
                          },
                          &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                            { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                              &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                              &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                              &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                                &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                                &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                  # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                ],
                                &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                                &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                  &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                },
                                &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                                &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                  &quot;A String&quot;,
                                ],
                                &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                                &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                                &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                                &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                                &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                                &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                                &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                                &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                                &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                                &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                                &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                                &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                                &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                                &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                  &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                },
                                &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                  &quot;A String&quot;,
                                ],
                                &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                                &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                  &quot;A String&quot;,
                                ],
                                &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                                &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                              },
                              &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                              &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                                &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                                &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                  # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                ],
                                &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                                &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                  &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                },
                                &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                                &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                  &quot;A String&quot;,
                                ],
                                &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                                &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                                &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                                &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                                &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                                &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                                &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                                &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                                &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                                &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                                &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                                &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                                &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                                &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                  &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                },
                                &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                  &quot;A String&quot;,
                                ],
                                &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                                &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                  &quot;A String&quot;,
                                ],
                                &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                                &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                              },
                              &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                            },
                          ],
                          &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                            &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                          },
                          &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                            &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                            &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                              &quot;A String&quot;,
                            ],
                          },
                          &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                            &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                              &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                              &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                            },
                          },
                          &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                            &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                            &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                              &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                            },
                          },
                          &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                            &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                            &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                              &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                                &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                                  &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                                  &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                                },
                              },
                              &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                              &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                                &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                                  &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                                  &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                                  &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                                  &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                                },
                                &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                                &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                                  &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                                },
                                &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                                  &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                                },
                                &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                                  &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                  &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                                },
                                &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                                  &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                  &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                                },
                              },
                              &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                                &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                                &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                                &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                              },
                              &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                              &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                              },
                            },
                            &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                              &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                                { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                                  &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                                  &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                                },
                              ],
                              &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                              &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                              &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                              &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                            },
                            &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                              &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                                &quot;A String&quot;,
                              ],
                              &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                                { # The definition of the Rag resource.
                                  &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                                  &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                    &quot;A String&quot;,
                                  ],
                                },
                              ],
                              &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                                &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                                  &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                                  &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                                  &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                                },
                                &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                                  &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                                },
                                &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                                  &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                    &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                                  },
                                  &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                    &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                                  },
                                },
                                &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                              },
                              &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                              &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                              &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                            },
                          },
                          &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                          },
                        },
                      ],
                      &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                      &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                        &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                          { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                            &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                              &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                              &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                            },
                            &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                              &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                              &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                            },
                            &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                              &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                            &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                              &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                                &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                              },
                              &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                              &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                              &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                                { # Partial argument value of the function call.
                                  &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                                  &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                                  &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                                  &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                                  &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                                  &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                                },
                              ],
                              &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                            },
                            &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                              &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                              &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                              &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                                { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                                  &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                    &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                  },
                                  &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                    &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                  },
                                },
                              ],
                              &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                                &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                              },
                            },
                            &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                              &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                            &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                              &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                            },
                            &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                            &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                            &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                            &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                              &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                              &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                              &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                            },
                          },
                        ],
                        &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                      },
                      &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                      &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                  ],
                  &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
                  &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
                },
              ],
            },
            &quot;candidate&quot;: &quot;A String&quot;, # Required. The name of the candidate that produced the response.
            &quot;events&quot;: [ # Optional. Intermediate events (such as tool calls and responses) that led to the final response.
              { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
                &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                  { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                    &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                      &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                      &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                    },
                    &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                      &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                      &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                    },
                    &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                      &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                      &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                      &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                    },
                    &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                      &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                      &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                      &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                      &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                        { # Partial argument value of the function call.
                          &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                          &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                          &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                          &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                          &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                          &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                        },
                      ],
                      &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                    },
                    &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                      &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                      &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                      &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                        { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                          &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                            &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                          &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                            &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                            &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                            &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                          },
                        },
                      ],
                      &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                    &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                      &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                      &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                      &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                    },
                    &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                      &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                    },
                    &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                    &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                    &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                    &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                      &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                      &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                      &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                    },
                  },
                ],
                &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
              },
            ],
            &quot;text&quot;: &quot;A String&quot;, # Text response.
            &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the response template.
          },
          &quot;prompt&quot;: { # Prompt to be evaluated. This can represent a single-turn prompt or a multi-turn conversation for agent evaluations. # Optional. The request/prompt to evaluate.
            &quot;agentData&quot;: { # Represents data specific to multi-turn agent evaluations. # Optional. Represents the complete execution trace of a multi-turn conversation, which can involve single or multiple agents. This serves as the input context for agent scraping.
              &quot;agents&quot;: { # Optional. A map containing the static configurations for each agent in the system. Key: agent_id (matches the `author` field in events). Value: The static configuration of the agent.
                &quot;a_key&quot;: { # Represents configuration for an Agent.
                  &quot;agentId&quot;: &quot;A String&quot;, # Required. Unique identifier of the agent. This ID is used to refer to this agent, e.g., in AgentEvent.author, or in the `sub_agents` field. It must be unique within the `agents` map.
                  &quot;agentType&quot;: &quot;A String&quot;, # Optional. The type or class of the agent (e.g., &quot;LlmAgent&quot;, &quot;RouterAgent&quot;, &quot;ToolUseAgent&quot;). Useful for the autorater to understand the expected behavior of the agent.
                  &quot;description&quot;: &quot;A String&quot;, # Optional. A high-level description of the agent&#x27;s role and responsibilities. Critical for evaluating if the agent is routing tasks correctly.
                  &quot;instruction&quot;: &quot;A String&quot;, # Optional. Provides instructions for the LLM model, guiding the agent&#x27;s behavior. Can be static or dynamic. Dynamic instructions can contain placeholders like {variable_name} that will be resolved at runtime using the `AgentEvent.state_delta` field.
                  &quot;subAgents&quot;: [ # Optional. The list of valid agent IDs that this agent can delegate to. This defines the directed edges in the multi-agent system graph topology.
                    &quot;A String&quot;,
                  ],
                  &quot;tools&quot;: [ # Optional. The list of tools available to this agent.
                    { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                      &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                      },
                      &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                        &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                        &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                        { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                          &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                          &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                          &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                          &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                            &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                            &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                              # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            ],
                            &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                            &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                            &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                              &quot;A String&quot;,
                            ],
                            &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                            &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                            &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                            &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                            &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                            &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                            &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                            &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                            &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                            &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                            &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                            &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                            &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                            &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                              &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                            },
                            &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                              &quot;A String&quot;,
                            ],
                            &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                            &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                              &quot;A String&quot;,
                            ],
                            &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                            &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                          },
                          &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                        },
                      ],
                      &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                        &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                      },
                      &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                        &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                        &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                          &quot;A String&quot;,
                        ],
                      },
                      &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                        &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                          &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                          &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                        },
                      },
                      &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                        &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                        &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                        &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                        &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                          &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                            &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                              &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                            },
                          },
                          &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                          &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                            &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                              &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                              &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                              &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                              &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                            },
                            &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                            &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                            },
                            &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                              &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                            },
                            &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                              &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                            },
                            &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                              &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                              &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                            },
                          },
                          &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                            &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                            &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                            &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                          },
                          &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                          &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                          },
                        },
                        &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                          &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                            { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                              &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                              &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                            },
                          ],
                          &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                          &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                          &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                          &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                        },
                        &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                          &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                            &quot;A String&quot;,
                          ],
                          &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                            { # The definition of the Rag resource.
                              &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                              &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                &quot;A String&quot;,
                              ],
                            },
                          ],
                          &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                            &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                              &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                              &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                              &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                            },
                            &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                              &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                            },
                            &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                              &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                              },
                              &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                              },
                            },
                            &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                          },
                          &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                          &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                          &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                        },
                      },
                      &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                      },
                    },
                  ],
                },
              },
              &quot;turns&quot;: [ # Optional. A chronological list of conversation turns. Each turn represents a logical execution cycle (e.g., User Input -&gt; Agent Response).
                { # Represents a single turn/invocation in the conversation.
                  &quot;events&quot;: [ # Optional. The list of events that occurred during this turn.
                    { # Represents a single event in the execution trace.
                      &quot;activeTools&quot;: [ # Optional. The list of tools that were active/available to the agent at the time of this event. This overrides the `AgentConfig.tools` if set.
                        { # Tool details that the model may use to generate response. A `Tool` is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the model. A Tool object should contain exactly one type of Tool (e.g FunctionDeclaration, Retrieval or GoogleSearchRetrieval).
                          &quot;codeExecution&quot;: { # Tool that executes code generated by the model, and automatically returns the result to the model. See also [ExecutableCode]and [CodeExecutionResult] which are input and output to this tool. # Optional. CodeExecution tool type. Enables the model to execute code as part of generation.
                          },
                          &quot;computerUse&quot;: { # Tool to support computer use. # Optional. Tool to support the model interacting directly with the computer. If enabled, it automatically populates computer-use specific Function Declarations.
                            &quot;environment&quot;: &quot;A String&quot;, # Required. The environment being operated.
                            &quot;excludedPredefinedFunctions&quot;: [ # Optional. By default, [predefined functions](https://cloud.google.com/vertex-ai/generative-ai/docs/computer-use#supported-actions) are included in the final model call. Some of them can be explicitly excluded from being automatically included. This can serve two purposes: 1. Using a more restricted / different action space. 2. Improving the definitions / instructions of predefined functions.
                              &quot;A String&quot;,
                            ],
                          },
                          &quot;enterpriseWebSearch&quot;: { # Tool to search public web data, powered by Vertex AI Search and Sec4 compliance. # Optional. Tool to support searching public web data, powered by Vertex AI Search and Sec4 compliance.
                            &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                            &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains.
                              &quot;A String&quot;,
                            ],
                          },
                          &quot;functionDeclarations&quot;: [ # Optional. Function tool type. One or more function declarations to be passed to the model along with the current user query. Model may decide to call a subset of these functions by populating FunctionCall in the response. User should provide a FunctionResponse for each function call in the next turn. Based on the function responses, Model will generate the final response back to the user. Maximum 512 function declarations can be provided.
                            { # Structured representation of a function declaration as defined by the [OpenAPI 3.0 specification](https://spec.openapis.org/oas/v3.0.3). Included in this declaration are the function name, description, parameters and response type. This FunctionDeclaration is a representation of a block of code that can be used as a `Tool` by the model and executed by the client.
                              &quot;description&quot;: &quot;A String&quot;, # Optional. Description and purpose of the function. Model uses it to decide how and whether to call the function.
                              &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Must start with a letter or an underscore. Must be a-z, A-Z, 0-9, or contain underscores, dots, colons and dashes, with a maximum length of 64.
                              &quot;parameters&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the parameters to this function in JSON Schema Object format. Reflects the Open API 3.03 Parameter Object. string Key: the name of the parameter. Parameter names are case sensitive. Schema Value: the Schema defining the type used for the parameter. For function with no parameters, this can be left unset. Parameter names must start with a letter or an underscore and must only contain chars a-z, A-Z, 0-9, or underscores with a maximum length of 64. Example with 1 required and 1 optional parameter: type: OBJECT properties: param1: type: STRING param2: type: INTEGER required: - param1
                                &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                                &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                  # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                ],
                                &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                                &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                  &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                },
                                &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                                &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                  &quot;A String&quot;,
                                ],
                                &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                                &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                                &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                                &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                                &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                                &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                                &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                                &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                                &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                                &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                                &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                                &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                                &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                                &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                  &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                },
                                &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                  &quot;A String&quot;,
                                ],
                                &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                                &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                  &quot;A String&quot;,
                                ],
                                &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                                &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                              },
                              &quot;parametersJsonSchema&quot;: &quot;&quot;, # Optional. Describes the parameters to the function in JSON Schema format. The schema must describe an object where the properties are the parameters to the function. For example: ``` { &quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }, &quot;age&quot;: { &quot;type&quot;: &quot;integer&quot; } }, &quot;additionalProperties&quot;: false, &quot;required&quot;: [&quot;name&quot;, &quot;age&quot;], &quot;propertyOrdering&quot;: [&quot;name&quot;, &quot;age&quot;] } ``` This field is mutually exclusive with `parameters`.
                              &quot;response&quot;: { # Defines the schema of input and output data. This is a subset of the [OpenAPI 3.0 Schema Object](https://spec.openapis.org/oas/v3.0.3#schema-object). # Optional. Describes the output from this function in JSON Schema format. Reflects the Open API 3.03 Response Object. The Schema defines the type used for the response value of the function.
                                &quot;additionalProperties&quot;: &quot;&quot;, # Optional. If `type` is `OBJECT`, specifies how to handle properties not defined in `properties`. If it is a boolean `false`, no additional properties are allowed. If it is a schema, additional properties are allowed if they conform to the schema.
                                &quot;anyOf&quot;: [ # Optional. The instance must be valid against any (one or more) of the subschemas listed in `any_of`.
                                  # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                ],
                                &quot;default&quot;: &quot;&quot;, # Optional. Default value to use if the field is not specified.
                                &quot;defs&quot;: { # Optional. `defs` provides a map of schema definitions that can be reused by `ref` elsewhere in the schema. Only allowed at root level of the schema.
                                  &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                },
                                &quot;description&quot;: &quot;A String&quot;, # Optional. Description of the schema.
                                &quot;enum&quot;: [ # Optional. Possible values of the field. This field can be used to restrict a value to a fixed set of values. To mark a field as an enum, set `format` to `enum` and provide the list of possible values in `enum`. For example: 1. To define directions: `{type:STRING, format:enum, enum:[&quot;EAST&quot;, &quot;NORTH&quot;, &quot;SOUTH&quot;, &quot;WEST&quot;]}` 2. To define apartment numbers: `{type:INTEGER, format:enum, enum:[&quot;101&quot;, &quot;201&quot;, &quot;301&quot;]}`
                                  &quot;A String&quot;,
                                ],
                                &quot;example&quot;: &quot;&quot;, # Optional. Example of an instance of this schema.
                                &quot;format&quot;: &quot;A String&quot;, # Optional. The format of the data. For `NUMBER` type, format can be `float` or `double`. For `INTEGER` type, format can be `int32` or `int64`. For `STRING` type, format can be `email`, `byte`, `date`, `date-time`, `password`, and other formats to further refine the data type.
                                &quot;items&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema # Optional. If type is `ARRAY`, `items` specifies the schema of elements in the array.
                                &quot;maxItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `max_items` specifies the maximum number of items in an array.
                                &quot;maxLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `max_length` specifies the maximum length of the string.
                                &quot;maxProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `max_properties` specifies the maximum number of properties that can be provided.
                                &quot;maximum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `maximum` specifies the maximum allowed value.
                                &quot;minItems&quot;: &quot;A String&quot;, # Optional. If type is `ARRAY`, `min_items` specifies the minimum number of items in an array.
                                &quot;minLength&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `min_length` specifies the minimum length of the string.
                                &quot;minProperties&quot;: &quot;A String&quot;, # Optional. If type is `OBJECT`, `min_properties` specifies the minimum number of properties that can be provided.
                                &quot;minimum&quot;: 3.14, # Optional. If type is `INTEGER` or `NUMBER`, `minimum` specifies the minimum allowed value.
                                &quot;nullable&quot;: True or False, # Optional. Indicates if the value of this field can be null.
                                &quot;pattern&quot;: &quot;A String&quot;, # Optional. If type is `STRING`, `pattern` specifies a regular expression that the string must match.
                                &quot;properties&quot;: { # Optional. If type is `OBJECT`, `properties` is a map of property names to schema definitions for each property of the object.
                                  &quot;a_key&quot;: # Object with schema name: GoogleCloudAiplatformV1beta1Schema
                                },
                                &quot;propertyOrdering&quot;: [ # Optional. Order of properties displayed or used where order matters. This is not a standard field in OpenAPI specification, but can be used to control the order of properties.
                                  &quot;A String&quot;,
                                ],
                                &quot;ref&quot;: &quot;A String&quot;, # Optional. Allows referencing another schema definition to use in place of this schema. The value must be a valid reference to a schema in `defs`. For example, the following schema defines a reference to a schema node named &quot;Pet&quot;: type: object properties: pet: ref: #/defs/Pet defs: Pet: type: object properties: name: type: string The value of the &quot;pet&quot; property is a reference to the schema node named &quot;Pet&quot;. See details in https://json-schema.org/understanding-json-schema/structuring
                                &quot;required&quot;: [ # Optional. If type is `OBJECT`, `required` lists the names of properties that must be present.
                                  &quot;A String&quot;,
                                ],
                                &quot;title&quot;: &quot;A String&quot;, # Optional. Title for the schema.
                                &quot;type&quot;: &quot;A String&quot;, # Optional. Data type of the schema field.
                              },
                              &quot;responseJsonSchema&quot;: &quot;&quot;, # Optional. Describes the output from this function in JSON Schema format. The value specified by the schema is the response value of the function. This field is mutually exclusive with `response`.
                            },
                          ],
                          &quot;googleMaps&quot;: { # Tool to retrieve public maps data for grounding, powered by Google. # Optional. GoogleMaps tool type. Tool to support Google Maps in Model.
                            &quot;enableWidget&quot;: True or False, # Optional. If true, include the widget context token in the response.
                          },
                          &quot;googleSearch&quot;: { # GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google. # Optional. GoogleSearch tool type. Tool to support Google Search in Model. Powered by Google.
                            &quot;blockingConfidence&quot;: &quot;A String&quot;, # Optional. Sites with confidence level chosen &amp; above this value will be blocked from the search results.
                            &quot;excludeDomains&quot;: [ # Optional. List of domains to be excluded from the search results. The default limit is 2000 domains. Example: [&quot;amazon.com&quot;, &quot;facebook.com&quot;].
                              &quot;A String&quot;,
                            ],
                          },
                          &quot;googleSearchRetrieval&quot;: { # Tool to retrieve public web data for grounding, powered by Google. # Optional. Specialized retrieval tool that is powered by Google Search.
                            &quot;dynamicRetrievalConfig&quot;: { # Describes the options to customize dynamic retrieval. # Specifies the dynamic retrieval configuration for the given source.
                              &quot;dynamicThreshold&quot;: 3.14, # Optional. The threshold to be used in dynamic retrieval. If not set, a system default value is used.
                              &quot;mode&quot;: &quot;A String&quot;, # The mode of the predictor to be used in dynamic retrieval.
                            },
                          },
                          &quot;parallelAiSearch&quot;: { # ParallelAiSearch tool type. A tool that uses the Parallel.ai search engine for grounding. # Optional. If specified, Vertex AI will use Parallel.ai to search for information to answer user queries. The search results will be grounded on Parallel.ai and presented to the model for response generation
                            &quot;apiKey&quot;: &quot;A String&quot;, # Optional. The API key for ParallelAiSearch. If an API key is not provided, the system will attempt to verify access by checking for an active Parallel.ai subscription through the Google Cloud Marketplace. See https://docs.parallel.ai/search/search-quickstart for more details.
                            &quot;customConfigs&quot;: { # Optional. Custom configs for ParallelAiSearch. This field can be used to pass any parameter from the Parallel.ai Search API. See the Parallel.ai documentation for the full list of available parameters and their usage: https://docs.parallel.ai/api-reference/search-beta/search Currently only `source_policy`, `excerpts`, `max_results`, `mode`, `fetch_policy` can be set via this field. For example: { &quot;source_policy&quot;: { &quot;include_domains&quot;: [&quot;google.com&quot;, &quot;wikipedia.org&quot;], &quot;exclude_domains&quot;: [&quot;example.com&quot;] }, &quot;fetch_policy&quot;: { &quot;max_age_seconds&quot;: 3600 } }
                              &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                            },
                          },
                          &quot;retrieval&quot;: { # Defines a retrieval tool that model can call to access external knowledge. # Optional. Retrieval tool type. System will always execute the provided retrieval tool(s) to get external knowledge to answer the prompt. Retrieval results are presented to the model for generation.
                            &quot;disableAttribution&quot;: True or False, # Optional. Deprecated. This option is no longer supported.
                            &quot;externalApi&quot;: { # Retrieve from data source powered by external API for grounding. The external API is not owned by Google, but need to follow the pre-defined API spec. # Use data source powered by external API for grounding.
                              &quot;apiAuth&quot;: { # The generic reusable api auth config. Deprecated. Please use AuthConfig (google/cloud/aiplatform/master/auth.proto) instead. # The authentication config to access the API. Deprecated. Please use auth_config instead.
                                &quot;apiKeyConfig&quot;: { # The API secret. # The API secret.
                                  &quot;apiKeySecretVersion&quot;: &quot;A String&quot;, # Required. The SecretManager secret version resource name storing API key. e.g. projects/{project}/secrets/{secret}/versions/{version}
                                  &quot;apiKeyString&quot;: &quot;A String&quot;, # The API key string. Either this or `api_key_secret_version` must be set.
                                },
                              },
                              &quot;apiSpec&quot;: &quot;A String&quot;, # The API spec that the external API implements.
                              &quot;authConfig&quot;: { # Auth configuration to run the extension. # The authentication config to access the API.
                                &quot;apiKeyConfig&quot;: { # Config for authentication with API key. # Config for API key auth.
                                  &quot;apiKeySecret&quot;: &quot;A String&quot;, # Optional. The name of the SecretManager secret version resource storing the API key. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If both `api_key_secret` and `api_key_string` are specified, this field takes precedence over `api_key_string`. - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                                  &quot;apiKeyString&quot;: &quot;A String&quot;, # Optional. The API key to be used in the request directly.
                                  &quot;httpElementLocation&quot;: &quot;A String&quot;, # Optional. The location of the API key.
                                  &quot;name&quot;: &quot;A String&quot;, # Optional. The parameter name of the API key. E.g. If the API request is &quot;https://example.com/act?api_key=&quot;, &quot;api_key&quot; would be the parameter name.
                                },
                                &quot;authType&quot;: &quot;A String&quot;, # Type of auth scheme.
                                &quot;googleServiceAccountConfig&quot;: { # Config for Google Service Account Authentication. # Config for Google Service Account auth.
                                  &quot;serviceAccount&quot;: &quot;A String&quot;, # Optional. The service account that the extension execution service runs as. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified service account. - If not specified, the Vertex AI Extension Service Agent will be used to execute the Extension.
                                },
                                &quot;httpBasicAuthConfig&quot;: { # Config for HTTP Basic Authentication. # Config for HTTP Basic auth.
                                  &quot;credentialSecret&quot;: &quot;A String&quot;, # Required. The name of the SecretManager secret version resource storing the base64 encoded credentials. Format: `projects/{project}/secrets/{secrete}/versions/{version}` - If specified, the `secretmanager.versions.access` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the specified resource.
                                },
                                &quot;oauthConfig&quot;: { # Config for user oauth. # Config for user oauth.
                                  &quot;accessToken&quot;: &quot;A String&quot;, # Access token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                  &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate access tokens for executing the Extension. - If the service account is specified, the `iam.serviceAccounts.getAccessToken` permission should be granted to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents) on the provided service account.
                                },
                                &quot;oidcConfig&quot;: { # Config for user OIDC auth. # Config for user OIDC auth.
                                  &quot;idToken&quot;: &quot;A String&quot;, # OpenID Connect formatted ID token for extension endpoint. Only used to propagate token from [[ExecuteExtensionRequest.runtime_auth_config]] at request time.
                                  &quot;serviceAccount&quot;: &quot;A String&quot;, # The service account used to generate an OpenID Connect (OIDC)-compatible JWT token signed by the Google OIDC Provider (accounts.google.com) for extension endpoint (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct#sa-credentials-oidc). - The audience for the token will be set to the URL in the server url defined in the OpenApi spec. - If the service account is provided, the service account should grant `iam.serviceAccounts.getOpenIdToken` permission to Vertex AI Extension Service Agent (https://cloud.google.com/vertex-ai/docs/general/access-control#service-agents).
                                },
                              },
                              &quot;elasticSearchParams&quot;: { # The search parameters to use for the ELASTIC_SEARCH spec. # Parameters for the elastic search API.
                                &quot;index&quot;: &quot;A String&quot;, # The ElasticSearch index to use.
                                &quot;numHits&quot;: 42, # Optional. Number of hits (chunks) to request. When specified, it is passed to Elasticsearch as the `num_hits` param.
                                &quot;searchTemplate&quot;: &quot;A String&quot;, # The ElasticSearch search template to use.
                              },
                              &quot;endpoint&quot;: &quot;A String&quot;, # The endpoint of the external API. The system will call the API at this endpoint to retrieve the data for grounding. Example: https://acme.com:443/search
                              &quot;simpleSearchParams&quot;: { # The search parameters to use for SIMPLE_SEARCH spec. # Parameters for the simple search API.
                              },
                            },
                            &quot;vertexAiSearch&quot;: { # Retrieve from Vertex AI Search datastore or engine for grounding. datastore and engine are mutually exclusive. See https://cloud.google.com/products/agent-builder # Set to use data source powered by Vertex AI Search.
                              &quot;dataStoreSpecs&quot;: [ # Specifications that define the specific DataStores to be searched, along with configurations for those data stores. This is only considered for Engines with multiple data stores. It should only be set if engine is used.
                                { # Define data stores within engine to filter on in a search call and configurations for those data stores. For more information, see https://cloud.google.com/generative-ai-app-builder/docs/reference/rpc/google.cloud.discoveryengine.v1#datastorespec
                                  &quot;dataStore&quot;: &quot;A String&quot;, # Full resource name of DataStore, such as Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                                  &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter specification to filter documents in the data store specified by data_store field. For more information on filtering, see [Filtering](https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata)
                                },
                              ],
                              &quot;datastore&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search data store resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                              &quot;engine&quot;: &quot;A String&quot;, # Optional. Fully-qualified Vertex AI Search engine resource ID. Format: `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
                              &quot;filter&quot;: &quot;A String&quot;, # Optional. Filter strings to be passed to the search API.
                              &quot;maxResults&quot;: 42, # Optional. Number of search results to return per query. The default value is 10. The maximumm allowed value is 10.
                            },
                            &quot;vertexRagStore&quot;: { # Retrieve from Vertex RAG Store for grounding. # Set to use data source powered by Vertex RAG store. User data is uploaded via the VertexRagDataService.
                              &quot;ragCorpora&quot;: [ # Optional. Deprecated. Please use rag_resources instead.
                                &quot;A String&quot;,
                              ],
                              &quot;ragResources&quot;: [ # Optional. The representation of the rag source. It can be used to specify corpus only or ragfiles. Currently only support one corpus or multiple files from one corpus. In the future we may open up multiple corpora support.
                                { # The definition of the Rag resource.
                                  &quot;ragCorpus&quot;: &quot;A String&quot;, # Optional. RagCorpora resource name. Format: `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
                                  &quot;ragFileIds&quot;: [ # Optional. rag_file_id. The files should be in the same rag_corpus set in rag_corpus field.
                                    &quot;A String&quot;,
                                  ],
                                },
                              ],
                              &quot;ragRetrievalConfig&quot;: { # Specifies the context retrieval config. # Optional. The retrieval config for the Rag query.
                                &quot;filter&quot;: { # Config for filters. # Optional. Config for filters.
                                  &quot;metadataFilter&quot;: &quot;A String&quot;, # Optional. String for metadata filtering.
                                  &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only returns contexts with vector distance smaller than the threshold.
                                  &quot;vectorSimilarityThreshold&quot;: 3.14, # Optional. Only returns contexts with vector similarity larger than the threshold.
                                },
                                &quot;hybridSearch&quot;: { # Config for Hybrid Search. # Optional. Config for Hybrid Search.
                                  &quot;alpha&quot;: 3.14, # Optional. Alpha value controls the weight between dense and sparse vector search results. The range is [0, 1], while 0 means sparse vector search only and 1 means dense vector search only. The default value is 0.5 which balances sparse and dense vector search equally.
                                },
                                &quot;ranking&quot;: { # Config for ranking and reranking. # Optional. Config for ranking and reranking.
                                  &quot;llmRanker&quot;: { # Config for LlmRanker. # Optional. Config for LlmRanker.
                                    &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name used for ranking. See [Supported models](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#supported-models).
                                  },
                                  &quot;rankService&quot;: { # Config for Rank Service. # Optional. Config for Rank Service.
                                    &quot;modelName&quot;: &quot;A String&quot;, # Optional. The model name of the rank service. Format: `semantic-ranker-512@latest`
                                  },
                                },
                                &quot;topK&quot;: 42, # Optional. The number of contexts to retrieve.
                              },
                              &quot;similarityTopK&quot;: 42, # Optional. Number of top k results to return from the selected corpora.
                              &quot;storeContext&quot;: True or False, # Optional. Currently only supported for Gemini Multimodal Live API. In Gemini Multimodal Live API, if `store_context` bool is specified, Gemini will leverage it to automatically memorize the interactions between the client and Gemini, and retrieve context when needed to augment the response generation for users&#x27; ongoing and future interactions.
                              &quot;vectorDistanceThreshold&quot;: 3.14, # Optional. Only return results with vector distance smaller than the threshold.
                            },
                          },
                          &quot;urlContext&quot;: { # Tool to support URL context. # Optional. Tool to support URL context retrieval.
                          },
                        },
                      ],
                      &quot;author&quot;: &quot;A String&quot;, # Required. The ID of the agent or entity that generated this event. Use &quot;user&quot; to denote events generated by the end-user.
                      &quot;content&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message. # Required. The content of the event (e.g., text response, tool call, tool response).
                        &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                          { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                            &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                              &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                              &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                            },
                            &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                              &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                              &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                            },
                            &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                              &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                            &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                              &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                                &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                              },
                              &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                              &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                              &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                                { # Partial argument value of the function call.
                                  &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                                  &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                                  &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                                  &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                                  &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                                  &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                                },
                              ],
                              &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                            },
                            &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                              &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                              &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                              &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                                { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                                  &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                    &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                  },
                                  &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                                    &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                                    &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                                    &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                                  },
                                },
                              ],
                              &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                                &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                              },
                            },
                            &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                              &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                            &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                              &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                            },
                            &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                            &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                            &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                            &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                              &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                              &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                              &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                            },
                          },
                        ],
                        &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                      },
                      &quot;eventTime&quot;: &quot;A String&quot;, # Optional. The timestamp when the event occurred.
                      &quot;stateDelta&quot;: { # Optional. The change in the session state caused by this event. This is a key-value map of fields that were modified or added by the event.
                        &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                      },
                    },
                  ],
                  &quot;turnId&quot;: &quot;A String&quot;, # Optional. A unique identifier for the turn. Useful for referencing specific turns across systems.
                  &quot;turnIndex&quot;: 42, # Required. The 0-based index of the turn in the conversation sequence.
                },
              ],
            },
            &quot;promptTemplateData&quot;: { # Message to hold a prompt template and the values to populate the template. # Prompt template data.
              &quot;values&quot;: { # The values for fields in the prompt template.
                &quot;a_key&quot;: { # The structured data content of a message. A Content message contains a `role` field, which indicates the producer of the content, and a `parts` field, which contains the multi-part data of the message.
                  &quot;parts&quot;: [ # Required. A list of Part objects that make up a single message. Parts of a message can have different MIME types. A Content message must have at least one Part.
                    { # A datatype containing media that is part of a multi-part Content message. A `Part` consists of data which has an associated datatype. A `Part` can only contain one of the accepted types in `Part.data`. For media types that are not text, `Part` must have a fixed IANA MIME type identifying the type and subtype of the media if `inline_data` or `file_data` field is filled with raw bytes.
                      &quot;codeExecutionResult&quot;: { # Result of executing the [ExecutableCode]. Only generated when using the [CodeExecution] tool, and always follows a `part` containing the [ExecutableCode]. # Optional. The result of executing the ExecutableCode.
                        &quot;outcome&quot;: &quot;A String&quot;, # Required. Outcome of the code execution.
                        &quot;output&quot;: &quot;A String&quot;, # Optional. Contains stdout when code execution is successful, stderr or other description otherwise.
                      },
                      &quot;executableCode&quot;: { # Code generated by the model that is meant to be executed, and the result returned to the model. Generated when using the [CodeExecution] tool, in which the code will be automatically executed, and a corresponding [CodeExecutionResult] will also be generated. # Optional. Code generated by the model that is intended to be executed.
                        &quot;code&quot;: &quot;A String&quot;, # Required. The code to be executed.
                        &quot;language&quot;: &quot;A String&quot;, # Required. Programming language of the `code`.
                      },
                      &quot;fileData&quot;: { # URI-based data. A FileData message contains a URI pointing to data of a specific media type. It is used to represent images, audio, and video stored in Google Cloud Storage. # Optional. The URI-based data of the part. This can be used to include files from Google Cloud Storage.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the file. Used to provide a label or filename to distinguish files. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;fileUri&quot;: &quot;A String&quot;, # Required. The URI of the file in Google Cloud Storage.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;functionCall&quot;: { # A predicted [FunctionCall] returned from the model that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing the parameters and their values. # Optional. A predicted function call returned from the model. This contains the name of the function to call and the arguments to pass to the function.
                        &quot;args&quot;: { # Optional. The function parameters and values in JSON object format. See [FunctionDeclaration.parameters] for parameter details.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The unique id of the function call. If populated, the client to execute the `function_call` and return the response with the matching `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Optional. The name of the function to call. Matches [FunctionDeclaration.name].
                        &quot;partialArgs&quot;: [ # Optional. The partial argument value of the function call. If provided, represents the arguments/fields that are streamed incrementally.
                          { # Partial argument value of the function call.
                            &quot;boolValue&quot;: True or False, # Optional. Represents a boolean value.
                            &quot;jsonPath&quot;: &quot;A String&quot;, # Required. A JSON Path (RFC 9535) to the argument being streamed. https://datatracker.ietf.org/doc/html/rfc9535. e.g. &quot;$.foo.bar[0].data&quot;.
                            &quot;nullValue&quot;: &quot;A String&quot;, # Optional. Represents a null value.
                            &quot;numberValue&quot;: 3.14, # Optional. Represents a double value.
                            &quot;stringValue&quot;: &quot;A String&quot;, # Optional. Represents a string value.
                            &quot;willContinue&quot;: True or False, # Optional. Whether this is not the last part of the same json_path. If true, another PartialArg message for the current json_path is expected to follow.
                          },
                        ],
                        &quot;willContinue&quot;: True or False, # Optional. Whether this is the last part of the FunctionCall. If true, another partial message for the current FunctionCall is expected to follow.
                      },
                      &quot;functionResponse&quot;: { # The result output from a [FunctionCall] that contains a string representing the [FunctionDeclaration.name] and a structured JSON object containing any output from the function is used as context to the model. This should contain the result of a [FunctionCall] made based on model prediction. # Optional. The result of a function call. This is used to provide the model with the result of a function call that it predicted.
                        &quot;id&quot;: &quot;A String&quot;, # Optional. The id of the function call this response is for. Populated by the client to match the corresponding function call `id`.
                        &quot;name&quot;: &quot;A String&quot;, # Required. The name of the function to call. Matches [FunctionDeclaration.name] and [FunctionCall.name].
                        &quot;parts&quot;: [ # Optional. Ordered `Parts` that constitute a function response. Parts may have different IANA MIME types.
                          { # A datatype containing media that is part of a `FunctionResponse` message. A `FunctionResponsePart` consists of data which has an associated datatype. A `FunctionResponsePart` can only contain one of the accepted types in `FunctionResponsePart.data`. A `FunctionResponsePart` must have a fixed IANA MIME type identifying the type and subtype of the media if the `inline_data` field is filled with raw bytes.
                            &quot;fileData&quot;: { # URI based data for function response. # URI based data.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the file data. Used to provide a label or filename to distinguish file datas. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;fileUri&quot;: &quot;A String&quot;, # Required. URI.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                            &quot;inlineData&quot;: { # Raw media bytes for function response. Text should not be sent as raw bytes, use the &#x27;text&#x27; field. # Inline media bytes.
                              &quot;data&quot;: &quot;A String&quot;, # Required. Raw bytes.
                              &quot;displayName&quot;: &quot;A String&quot;, # Optional. Display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in PromptMessage for prompt management. It is currently used in the Gemini GenerateContent calls only when server side tools (code_execution, google_search, and url_context) are enabled.
                              &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                            },
                          },
                        ],
                        &quot;response&quot;: { # Required. The function response in JSON object format. Use &quot;output&quot; key to specify function output and &quot;error&quot; key to specify error details (if any). If &quot;output&quot; and &quot;error&quot; keys are not specified, then whole &quot;response&quot; is treated as function output.
                          &quot;a_key&quot;: &quot;&quot;, # Properties of the object.
                        },
                      },
                      &quot;inlineData&quot;: { # A content blob. A Blob contains data of a specific media type. It is used to represent images, audio, and video. # Optional. The inline data content of the part. This can be used to include images, audio, or video in a request.
                        &quot;data&quot;: &quot;A String&quot;, # Required. The raw bytes of the data.
                        &quot;displayName&quot;: &quot;A String&quot;, # Optional. The display name of the blob. Used to provide a label or filename to distinguish blobs. This field is only returned in `PromptMessage` for prompt management. It is used in the Gemini calls only when server-side tools (`code_execution`, `google_search`, and `url_context`) are enabled.
                        &quot;mimeType&quot;: &quot;A String&quot;, # Required. The IANA standard MIME type of the source data.
                      },
                      &quot;mediaResolution&quot;: { # per part media resolution. Media resolution for the input media. # per part media resolution. Media resolution for the input media.
                        &quot;level&quot;: &quot;A String&quot;, # The tokenization quality used for given media.
                      },
                      &quot;text&quot;: &quot;A String&quot;, # Optional. The text content of the part. When sent from the VSCode Gemini Code Assist extension, references to @mentioned items will be converted to markdown boldface text. For example `@my-repo` will be converted to and sent as `**my-repo**` by the IDE agent.
                      &quot;thought&quot;: True or False, # Optional. Indicates whether the `part` represents the model&#x27;s thought process or reasoning.
                      &quot;thoughtSignature&quot;: &quot;A String&quot;, # Optional. An opaque signature for the thought so it can be reused in subsequent requests.
                      &quot;videoMetadata&quot;: { # Provides metadata for a video, including the start and end offsets for clipping and the frame rate. # Optional. Video metadata. The metadata should only be specified while the video data is presented in inline_data or file_data.
                        &quot;endOffset&quot;: &quot;A String&quot;, # Optional. The end offset of the video.
                        &quot;fps&quot;: 3.14, # Optional. The frame rate of the video sent to the model. If not specified, the default value is 1.0. The valid range is (0.0, 24.0].
                        &quot;startOffset&quot;: &quot;A String&quot;, # Optional. The start offset of the video.
                      },
                    },
                  ],
                  &quot;role&quot;: &quot;A String&quot;, # Optional. The producer of the content. Must be either &#x27;user&#x27; or &#x27;model&#x27;. If not set, the service will default to &#x27;user&#x27;.
                },
              },
            },
            &quot;text&quot;: &quot;A String&quot;, # Text prompt.
            &quot;value&quot;: &quot;&quot;, # Fields and values that can be used to populate the prompt template.
          },
          &quot;rubrics&quot;: { # Optional. Named groups of rubrics associated with this prompt. The key is a user-defined name for the rubric group.
            &quot;a_key&quot;: { # A group of rubrics, used for grouping rubrics based on a metric or a version.
              &quot;displayName&quot;: &quot;A String&quot;, # Human-readable name for the group. This should be unique within a given context if used for display or selection. Example: &quot;Instruction Following V1&quot;, &quot;Content Quality - Summarization Task&quot;.
              &quot;groupId&quot;: &quot;A String&quot;, # Unique identifier for the group.
              &quot;rubrics&quot;: [ # Rubrics that are part of this group.
                { # Message representing a single testable criterion for evaluation. One input prompt could have multiple rubrics.
                  &quot;content&quot;: { # Content of the rubric, defining the testable criteria. # Required. The actual testable criteria for the rubric.
                    &quot;property&quot;: { # Defines criteria based on a specific property. # Evaluation criteria based on a specific property.
                      &quot;description&quot;: &quot;A String&quot;, # Description of the property being evaluated. Example: &quot;The model&#x27;s response is grammatically correct.&quot;
                    },
                  },
                  &quot;importance&quot;: &quot;A String&quot;, # Optional. The relative importance of this rubric.
                  &quot;rubricId&quot;: &quot;A String&quot;, # Unique identifier for the rubric. This ID is used to refer to this rubric, e.g., in RubricVerdict.
                  &quot;type&quot;: &quot;A String&quot;, # Optional. A type designator for the rubric, which can inform how it&#x27;s evaluated or interpreted by systems or users. It&#x27;s recommended to use consistent, well-defined, upper snake_case strings. Examples: &quot;SUMMARIZATION_QUALITY&quot;, &quot;SAFETY_HARMFUL_CONTENT&quot;, &quot;INSTRUCTION_ADHERENCE&quot;.
                },
              ],
            },
          },
        },
      },
      &quot;gcsUri&quot;: &quot;A String&quot;, # The Cloud Storage object where the request or response is stored.
      &quot;labels&quot;: { # Optional. Labels for the EvaluationItem.
        &quot;a_key&quot;: &quot;A String&quot;,
      },
      &quot;metadata&quot;: &quot;&quot;, # Optional. Metadata for the EvaluationItem.
      &quot;name&quot;: &quot;A String&quot;, # Identifier. The resource name of the EvaluationItem. Format: `projects/{project}/locations/{location}/evaluationItems/{evaluation_item}`
    },
  ],
  &quot;nextPageToken&quot;: &quot;A String&quot;, # A token to retrieve the next page of results.
}</pre>
</div>

<div class="method">
    <code class="details" id="list_next">list_next()</code>
  <pre>Retrieves the next page of results.

        Args:
          previous_request: The request for the previous page. (required)
          previous_response: The response from the request for the previous page. (required)

        Returns:
          A request object that you can call &#x27;execute()&#x27; on to request the next
          page. Returns None if there are no more items in the collection.
        </pre>
</div>

</body></html>